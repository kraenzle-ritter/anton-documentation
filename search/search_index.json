{"config":{"lang":["de","en"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|(?!\\b)(?=[A-Z][a-z])|\\.(?!\\d)|&[lg]t;","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Anton \u2013 Dokumentation","text":"<p>Anton ist eine eine webbasierte, mehrsprachige und standardorientierte Archivdatenbank. Anton kann als Service auf einem Server von k &amp; r genutzt werden oder on Premises auf einem eigenen Server betrieben werden.</p>"},{"location":"#links","title":"Links","text":"<ul> <li>Produktwebsite: https://www.anton.ch</li> <li>Testarchiv: https://kr.anton.ch</li> <li>Hersteller: https://www.k-r.ch</li> <li>Neuigkeiten: https://kr.anton.ch/news</li> <li>Blog: https://www.k-r.ch/beitraege/</li> </ul>"},{"location":"#kontakt","title":"Kontakt","text":"<p>Kr\u00e4nzle &amp; Ritter Sihlfeldstrasse 89 CH-8004 Schweiz https://www.k-r.ch info@k-r.ch</p>"},{"location":"admin/authentication/","title":"Authentication","text":""},{"location":"admin/authentication/#two-factor-authentication","title":"Two-Factor Authentication","text":""},{"location":"admin/authentication/#activate","title":"Activate","text":"<p>The two-factor authentication can be enabled with an entry in the <code>.env</code> file:</p> <pre><code>2FA=1\n</code></pre> <p>In the settings (<code>two-factor-auth-role</code>) you can set a role for which the 2FA is obligatory. If for example editor is specified, a 2FA is mandatory for editor and admin.</p>"},{"location":"admin/authentication/#deactivate-2fa-for-a-user","title":"Deactivate 2FA for a User","text":"<p>If a user has lost the two-factor secrets and has also no recovery code, it is possible to remove this from the user so that it is possible to start over with a fresh 2FA.</p>"},{"location":"admin/authentication/#registration","title":"Registration","text":"<p>It is also possible via the <code>.env</code> file to allow user registration:</p> <pre><code>REGISTRATION=1\n</code></pre>"},{"location":"admin/cli-sip-ingest/","title":"Cli sip ingest","text":"<p>For the Setup of the SIP Import cf. also Sip Import</p>"},{"location":"admin/configuration/","title":"Configuration","text":""},{"location":"admin/configuration/#env-file","title":".env File","text":""},{"location":"admin/configuration/#favicons","title":"Favicons","text":"<p>Favicons k\u00f6nnen pro Installation individuell eingebunden werden. Man ben\u00f6tigt mindestens eine quadratische Vorlage von 256x256 Pixel, die weiteren Aufl\u00f6sungen k\u00f6nnen automatisch erstellt werden (unter Admin -&gt; Upload Logo und Bilder). Ausnahme ist die SVG Grafik f\u00fcr Safari (<code>safari-pinned-tab.svg</code>), die manuell erstellt und hochgeladen werden muss. Aus dem Ordner favicon (im customers Ordner) werden folgende Dateien eingebunden:</p> <ul> <li>android-icon-192x192.png</li> <li>android-icon-256x256.png</li> <li>apple-icon-114x114.png</li> <li>apple-icon-120x120.png</li> <li>apple-icon-144x144.png</li> <li>apple-icon-152x152.png</li> <li>apple-icon-180x180.png</li> <li>apple-icon-57x57.png</li> <li>apple-icon-60x60.png</li> <li>apple-icon-72x72.png</li> <li>apple-icon-76x76.png</li> <li>favicon-16x16.png</li> <li>favicon-32x32.png</li> <li>favicon-96x96.png</li> <li>manifest.json</li> <li>safari-pinned-tab.svg </li> </ul>"},{"location":"admin/configuration/#settings","title":"Settings","text":"<p>We go here through the most important <code>settings</code> which only can be set by the superuser.</p>"},{"location":"admin/configuration/#abo-and-maximum_storage","title":"abo and maximum_storage","text":"<p>abo should contain \"basic\", \"standard\" or \"pro\".</p> <p><code>maximum_storage</code> should contain the disk space in GB. It is used by the command <code>anton:check-disk-space</code>.</p>"},{"location":"admin/configuration/#form-objects-list","title":"form-objects-list","text":"<p>To get an additional column with thumbs in the result lists, copy this into the setting:</p> <pre><code>[{\n    \"name\":\"identifier\", \"label\":\"Identifier\", \"sortField\":\"identifier\"},{\"name\":\"any_title\",\"label\":\"Title\",\"sortField\":\"title\"},{\"name\":\"creationDateLabel\", \"label\":\"Date\", \"sortField\":\"object_creation_min\"},\n    {\"name\":\"lod_extent\",\"label\":\"Level of description\",\"sortField\":\"level_of_description_id\"},\n    {\"name\":\"other_information\",\"label\":\"Other information\",\"sort\":false},{\"name\":\"first_image\",\"label\":\"Image\",\"sort\":false},\n    {\"name\":\"buttons\",\"sort\":false,\"with\":[\"content\",\"detail\",\"edit\",\"move\",\"delete\"]}]\n</code></pre>"},{"location":"admin/configuration/#searchfields-and-search_fields_extern","title":"searchfields and search_fields_extern","text":"<p>If you want to configure the searchfields for the advanced search you can fill this setting with a json object. You can find the full json here: </p> <p>https://kr.anton.ch/admin/searchfields </p>"},{"location":"admin/console-commands/","title":"Commands","text":""},{"location":"admin/console-commands/#grundsatzliches","title":"Grunds\u00e4tzliches","text":"<p>Antons Kommandos sind Laravel-Kommandos und werden \u00fcber <code>artisan</code> aufgerufen.</p> <p>Die meisten Kommandos erwarten die Angabe einer Umgebung, d.h. eines <code>customers-slug</code>.</p> <pre><code>php artisan anton:command --env=besenval\n</code></pre> <p>Die Anton-Kommandos verwenden <code>Ottosmops\\Consoleoutput\\ConsoleOutputTrait</code>. Das bedeutet, dass Ausgaben nach <code>stdout</code> nur ausgegeben werden, wenn das verbosity-level erh\u00f6ht wird.</p> <p>Die Option <code>-v</code> gibt <code>info</code>-messages aus.</p> <p>Mit der Option <code>-vv</code> werden auch <code>debug</code>-messages ausgegeben.</p>"},{"location":"admin/console-commands/#antonadd-medium","title":"anton:add-medium","text":"<pre><code>php artisan anton:add-medium file.jpg --env=\"besenval\" --id=123\n</code></pre> <p>Mit diesem Befehl kann ein Medium (Bild, Dokument) \u00fcber die Kommandozeile einem Datensatz hinzugef\u00fcgt werden. Das ist n\u00fctzlich, wenn ein Bild zu gross f\u00fcr einen Upload mit dem Browser ist.</p>"},{"location":"admin/console-commands/#antonbackup","title":"anton:backup","text":"<p>Erstellt ein Backup der Datenbank. Ohne Angabe eines <code>--target-dir</code> wird das Backup im Customers Ordner (<code>db_backup</code>) gespeichert. Mit den Optionen <code>hourly</code>, <code>--weekly</code>, <code>--mothly</code>, <code>--yearly</code> werden die Dateinamen f\u00fcr rotierende Backups pr\u00e4pariert. Z.B.: <code>00_backup_besenval-daily-19.sql.gz</code>. Mit <code>--file</code> kann ein neuer Dateiname angegeben werden. </p> <p>vgl. anton:restore</p>"},{"location":"admin/console-commands/#antoncheck-disk-space","title":"anton:check-disk-space","text":"<p>Das Kommando ist identisch mit <code>anton:doctor --disk</code>.</p> <p>\u00dcberpr\u00fcft die Speicherplatzbelegung eines <code>customers</code>.</p> <pre><code>php artisan anton:check-disk-space --env=\"besenval\" -vv\n</code></pre> <p>Das Kommando vergleicht die aktuelle Speicherplatzbelegung mit der erlaubten Speicherplatzbelegung, die in <code>setting('maximum_storage')</code> in GB gespeichert ist.</p> <p>Wenn \u00fcber 80% des Speicherplatzes belegt ist, wird eine Warung ausgegeben.</p> <p>Wenn mehr Speicherplatz als erlaubt belegt ist, wird ein Fehler zur\u00fcckgegeben.</p>"},{"location":"admin/console-commands/#antoncheck-terms","title":"anton:check-terms","text":""},{"location":"admin/console-commands/#antoncondense-history","title":"anton:condense-history","text":""},{"location":"admin/console-commands/#antoncount","title":"anton:count","text":""},{"location":"admin/console-commands/#antoncount-jobs","title":"anton:count-jobs","text":""},{"location":"admin/console-commands/#antoncustomdir","title":"anton:customdir","text":"<p>vgl. Admin =&gt; Installation</p>"},{"location":"admin/console-commands/#antondoctor","title":"anton:doctor","text":"<p>\u00dcberpr\u00fcft einige grundlegende Settings und kann evtl. Auskunft geben, ob etwas an der Installation nicht stimmt.</p> <pre><code>php artisan anton:doctor --env=\"besenval\" --all -vv\n</code></pre> <p>Optionen:  <pre><code>    --all             check everything\n    --binaries        check binaries\n    --database        check if positions are not unique (within a parent)\n    --disk            check disk usage\n    --environment     check environment variables, setting etc.\n    --jobs            check if supervisor is running\n    --media           show problematic media\n    --statistics      count rows in tables\n    --mail[=MAIL]     email-adress\n</code></pre></p>"},{"location":"admin/console-commands/#antonexport","title":"anton:export","text":""},{"location":"admin/console-commands/#antonimport","title":"anton:import","text":""},{"location":"admin/console-commands/#antonrestore","title":"anton:restore","text":""},{"location":"admin/console-commands/#antonupdate","title":"anton:update","text":""},{"location":"admin/download-dip/","title":"DIP Download","text":"<p>Die M\u00f6glichkeit, DIPs einzelner Dossiers als ZIP herunterzuladen, k\u00f6nnen in das Formular (default, internal, detail) eingebaut werden: <code>module_word_download</code>. Der Download wird aber nur f\u00fcr die Verzeichnungsstufen angezeigt die im Setting <code>level_of_description_ids_for_dip_download</code> angegeben sind. F\u00fcr Dossier: <code>[5]</code></p> <p>Mit dem Setting <code>dip_creator_class</code> l\u00e4sst sich eine Klasse f\u00fcr die Erstellung des Dips angeben. Im Moment gibt es den Standard <code>CreateDip</code> (default), der eine Bag erstellt. D.h. es gibt ein md5-manifest, das s\u00e4mtliche Dateien mit Checksum auflistet. Ausserdem wird eine Worddatei erstellt, die den Inhalt des DIP beschreibt mit weiteren Metadaten (vgl. Word Findb\u00fccher). S\u00e4mtliche Verzeichnungseinheiten erstellen Ordner (mit dem Titel als Ordnernamen). In den Ordnern werden die Dateien abgelegt. Diese sind nach der Signatur benannt.</p> <p>Ausserdem gibt es eine vereinfachte Version (<code>ZhCreateDip</code>), die die Ordnerstruktur aus den Titeln erstellt. Wenn eine Verzeichnungseinheit keine Kinder hat, entf\u00e4llt der Ordner; daf\u00fcr werden die Medien direkt mit originalem Dateinamen gespeichert.</p>"},{"location":"admin/download-word/","title":"Word Findb\u00fccher","text":"<p>Die M\u00f6glichkeit, Findb\u00fccher zu einzelnen Best\u00e4nden herunterzuladen, k\u00f6nnen in das Formular (default, internal, detail) eingebaut werden: <code>module_word_download</code>. Der Download wird aber nur f\u00fcr die Verzeichnungsstufen angezeigt die im Setting <code>level_of_description_ids_for_word_download</code> angegeben sind. F\u00fcr Best\u00e4nde: <code>[3]</code></p> <p>Um das Logo einzubinden, ist im <code>customers/{slug}/img</code> Ordner das Logo als <code>word_logo.png</code> abzuspeichern.</p> <p>Ausserdem kann in der Einstellungen der Footer (<code>word_footer</code>) sowie der Header <code>word_header</code> angepasst werden.</p>"},{"location":"admin/download-word/#custom-word-export","title":"Custom Word Export","text":"<p>For a Word Export there must be a Class in the <code>Controller\\Word</code> directory, which organizes the download, for example <code>ArchivdatenWordEdxport</code>. The class must be named like <code>${template}WordEdxport</code>. So in the example the template is \u00abArchivdaten\u00bb. </p> <p>The export class must have one method which takes as an argument an integer and returns a <code>Symfony\\Component\\HttpFoundation\\Response</code>:</p> <pre><code>public function run($id) : Response\n</code></pre> <p>When the class is done you have to add the <code>ModuleWordDownload</code> to the default objectform (via the gui). </p> <p>Then you can specify the level_of_descriptions, which should offer the download by adding an array of level_of_description_ids to the setting <code>level_of_description_ids_for_word_download</code> and to the setting <code>word_export_template</code> you have to add the template (casesensitive), in the example \u00abArchivdaten\u00bb. </p>"},{"location":"admin/gallery/","title":"Bildgalerie","text":"<p>S\u00e4mtliche Bilder werden \u00fcber die Route <code>/gallery</code> in einer Bildgalerie angezeigt. </p> <p>Auswahl Best\u00e4nde: Es k\u00f6nnen bestimmte Best\u00e4nde festgelegt werden, die f\u00fcr die Galerie verwendet werden sollen (Einstellungen <code>gallery_fonds</code> und <code>gallery_fonds_extern</code>; beide Felder enthalten ein array der IDs der Best\u00e4nde).</p> <p>Auswahlfeld Best\u00e4nde: Ob in der Galerie nach Best\u00e4nden gefiltert werden kann wird mit der Einstellung <code>gallery_show_fonds_select</code> festgelegt.</p> <p>Auswahlfeld Schlagworte: Ob in der Galerie nach Best\u00e4nden gefiltert werden kann wird mit der Einstellung <code>gallery_show_keywords_select</code> festgelegt.</p> <p>Wie viele Bilder auf einer Seite der Galerie angezeigt werden sollen, wird mit <code>list_limit_gallery</code> festgelegt. Da die Anordnung der Bilder erst nach vollst\u00e4ndigem Laden der Bilder erfolgt, ist auszutesten, welche Anzahl f\u00fcr die Userexpirience noch OK ist.</p> <p>Klickt man auf ein Bild gibt es zwei Optionen: Mit dem Link-Symbol kommt man in die Archivdatenbank, also zum Eintrag der Verzeichnungseinheit, die dieses Bild enth\u00e4lt. Mit dem Lupensymbol \u00f6ffnet sich ein Modal, in dem mit Open Seadragon eine gr\u00f6ssere Version der Bilder angezeigt wird. F\u00fcr die Vorschau werden thumbs mit 230px Breite verwendet, f\u00fcr die vergr\u00f6sserten Bilder k\u00f6nnen entweder die Webversionen (aktuell 1200px Breite) verwendet werden oder die Originale (daf\u00fcr muss in der Einstellung <code>gallery_full_images</code> \u00abmaster\u00bb eingetragen werden). Mit den verschiedenen Einstellungen kann die Galerie etwas angepasst werden.</p>"},{"location":"admin/inge/","title":"Inge und Dimag","text":"<p>Mit Inge ist es m\u00f6glich, DIMAG als Repository f\u00fcr die Prim\u00e4rdaten zu integrieren. Die originalen Dateien werden dann nicht im lokalen Filesystem von Anton, sondern in DIMAG gespeichert. Nur die Dateien, die f\u00fcr das Internet optimiert wurden, bleiben in Anton. Wenn n\u00f6tig k\u00f6nnen interne User die originalen Dateien herunterladen. Aus Perspekitve der Nutzerinnen und Nutzer gibt es deshalb kein Unterschied.</p>"},{"location":"admin/inge/#requirements","title":"Requirements","text":"<ul> <li>Setting <code>fulltext-from-webpdf</code>: true </li> <li>Setting <code>cloud</code>: \"inge\"</li> <li>.env INGE_API_TOKEN </li> <li>User \"Inge\" with Email address and api_token for Inge</li> </ul>"},{"location":"admin/inge/#ablauf-des-sip-ingest","title":"Ablauf des SIP-Ingest","text":""},{"location":"admin/inge/#anton","title":"Anton","text":"<ul> <li>User: SIP Upload (zip) (<code>/sip/uploadsip</code>)</li> <li>User: SIP Validation (<code>/sip/validation</code>)<ul> <li>Anton kann das SIP auspacken (unzip) und die Metadaten-Datei ist lesbar.</li> <li>Die Dateien aus dem SIP sind vorhanden und die Pr\u00fcfsummen sind korrekt.</li> <li>Anton kann f\u00fcr jedes Dossier im SIP einen parent in Anton finden.</li> </ul> </li> <li>User: Anton-Ingest (<code>/sip/ingest</code>)<ul> <li>Backup der Datenbank</li> <li>Import SIP (<code>&lt;dossier&gt;</code> and <code>&lt;dokument&gt;</code>/<code>&lt;datei&gt;</code>)<ul> <li>SIP Eintrag im Akzessionsarchiv (\u00abEntwurf\u00bb)</li> <li>Import Dossiers and Dokumente/Dateien <ul> <li>Anton erstellt Web-Versionen und Thumbs</li> <li>falls der SIP-Ingest mit Inge und DIMAG erfolgt l\u00f6scht Anton die  Masterdateien</li> </ul> </li> <li>Signaturen und Dateinamen basieren zun\u00e4chst auf UUIDs</li> </ul> </li> <li>Post Import (Listener `ImportFinished``)<ul> <li>Update der Archiv-Hierarchie (<code>path</code>)</li> <li>Update der Datierungen und des Volltextindexes</li> </ul> </li> </ul> </li> </ul> <p>Mit dem event <code>MediumAdded</code> wird der Import der einzelnen Medien ausgel\u00f6st, der jeweils asynchron erledigt wird.</p>"},{"location":"admin/inge/#ingest-mit-inge-in-dimag","title":"Ingest mit Inge in DIMAG","text":"<p>Das event <code>MediumAdded</code> wird verz\u00f6gert ausgel\u00f6st, d.h. nachdem der Import abgeschlossen ist und die Signaturen bereits korrigiert wurden. Dieses event l\u00f6st die Konvertierung der Medien aus (Listener <code>MediumCreateWebVersion</code>). Bei Verwendung von Inge wird die Original Datei in den sips Pfad kopiert, wo auch Inge zugreifen kann. Dann erfolgt der Import in Inge (<code>Anton\\Helpers\\Inge::class</code>, <code>import</code>). Wenn Inge einen Erfolg zur\u00fcckmeldet, werden die Konvertierungen durchgef\u00fchrt und das Master Medium wir gel\u00f6scht.</p> <p>Inge:  - Anton schickt einen Request pro Datei an Inge mit dem SIP and einer Liste der Anton-Medien-Ids - Inge: Ingest der Dateien in DIMAG     - Inge erstellt eine loadXML-Datei     - Inge erstellt ein Ingest-Paket und sichert es auf DIMAGs SFTP-Storage     - Inge sendet einen Request an DIMAG: Ingest des SIP - DIMAG: Importiert das Paket and sendet das Resultat an Inge  - Inge: Inge sendet das Resultat an Anton - Anton: Finalisiere den SIP-Ingest     - Best\u00e4tige den SIP-Ingest (SIP Eintrag ist \u00abFinal\u00bb) oder stelle den Zustand vor dem Ingest aus dem Backup wieder her      - Schicke eine Email an User Inge mit dem Resultat </p>"},{"location":"admin/inge/#abfrage-eines-master-files","title":"Abfrage eines Master Files","text":""},{"location":"admin/inge/#cli","title":"CLI","text":"<pre><code>php artisan anton:import --env {slug} --from-sip --no-validation \n--create-actors -vv {path/to/sip} --import\n</code></pre>"},{"location":"admin/inge/#revert-a-sip-import-or-confirm-import-with-inge","title":"Revert a SIP Import or Confirm Import with Inge","text":"<p>Before a SIP Import Anton backups the database, so if anything goes wrong you can come back to the status before the Import. </p> <p>The backup name is stored in the SIP-Entry and the <code>Status of description</code> is set to draft.</p> <p>This will restore the database from the last/actual backup and sync the media with the database (namely delete media wich are not registered in the database):</p> <pre><code>php artisan anton:sip-import --env {slug} --id {sip_id} -vv --revert\n</code></pre> <p>The <code>sip_id</code> is the ID of an AntonObject which is a SIP.</p> <p>This will set the <code>Status of description</code> in the SIP-Entry to \"final\":</p> <pre><code>php artisan anton:sip-import --env {slug} --id {sip_id} -vv --confirm\n</code></pre>"},{"location":"admin/inge/#debugging","title":"Debugging","text":""},{"location":"admin/inge/#check-the-sip-import-data","title":"Check the SIP Import Data","text":"<pre><code>php artisan sip:check --env {slug}  --path {path_to_sip} --show-sip_entry\n</code></pre> <pre><code>php artisan sip:check --env {slug}  --path {path_to_sip} --show-import-array\n</code></pre>"},{"location":"admin/installation/","title":"Installation","text":"<p>F\u00fcr jeden <code>customer</code> gibt es eine Kennung, <code>customer-slug</code>. Im folgenden wird als Beipiel \"besenval\" als customer-slug verwendet.</p>"},{"location":"admin/installation/#einen-neuen-customer-einrichten","title":"Einen neuen customer einrichten","text":"<p>Um einen neuen <code>customer</code> einzurichten ben\u00f6tigt man den Zugang \u00fcber die Kommandozeile.</p>"},{"location":"admin/installation/#configphp-in-bootstrap-anlegen","title":"config.php in bootstrap/ anlegen","text":"<p>Falls die Umgebung nicht der subdomain entspricht, muss man ein <code>config.php</code> File anlegen, das ein Array <code>$slugArray</code> definiert. Dieses ordnet die URL der Anton-Installation einem den <code>customer</code> zu: </p> <pre><code>$slugArray = ['besenval.anton' =&gt; 'besenval'];\n</code></pre> <p>Der <code>key</code> besteht aus hier Subdomain und Domain, der <code>value</code> enth\u00e4lt den <code>customer-slug</code> bzw. das suffix des <code>.env</code> files, das in diesem Fall <code>.env.besenval</code> heisst.</p>"},{"location":"admin/installation/#umgebung-anpassen-env","title":"Umgebung anpassen (.env)","text":"<p>Die Umgebungsvariablen werden im <code>.env.besenval</code> im root Verzeichnis der Anton-Installation gespeichert. Weitere Variablen sind dann in der Datenbank in den Settings gespeichert.</p>"},{"location":"admin/installation/#allgemeine-umgebungsvariablen","title":"Allgemeine Umgebungsvariablen","text":"<p>Beispiel Besenval: </p> <pre><code>APP_ENV=besenval\nAPP_URL=http://besenval.anton.ch\nAPP_DEBUG=false\nDEBUGBAR_ENABLED=false\nAPP_KEY=AppKey\nAPP_LOG_LEVEL=debug\nEMAIL_EXCEPTION_ENABLED=true\nSNEAKER_SILENT=true\n</code></pre>"},{"location":"admin/installation/#datenbank-credentials","title":"Datenbank Credentials","text":"<pre><code>DB_HOST=127.0.0.1\nDB_DATABASE=datenbankname\nDB_USERNAME=username\nDB_PASSWORD=passwort\n</code></pre>"},{"location":"admin/installation/#drivers","title":"Drivers","text":"<pre><code>CACHE_DRIVER=file\nSESSION_DRIVER=database\nQUEUE_DRIVER=database\n</code></pre> <p>Wichtig</p> <p>Wichtig: F\u00fcr die ersten Commands muss der Cache-Driver in <code>.env.besenval</code> auf file gestellt sein:</p> <pre><code>CACHE_DRIVER=file\n</code></pre> <p>Nach der Grundinstallation (bzw. der database migration) sollte dieser Wert zu 'database' ge\u00e4ndert werden.</p>"},{"location":"admin/installation/#email","title":"Email","text":"<pre><code>MAIL_DRIVER\nMAIL_HOST\nMAIL_PORT\nMAIL_USERNAME\nMAIL_PASSWORD\nMAIL_FROM\nMAIL_NAME\n</code></pre> <p>Es ist einfach, den Email Versand zu testen: <pre><code>php artisan anton:doctor --all --env kr --mail 'kraenzle@k-r.ch'\n</code></pre></p>"},{"location":"admin/installation/#customers-path","title":"Customers Path","text":"<p>Ausserdem kann die Variable <code>CUSTOMER_PATH</code> gesetzt werden (sie muss einen absoluten Pfad enthalten). Ist der <code>CUSTOMER_PATH</code> nicht gesetzt wird im Anton Ordner ein <code>customers</code> Ordner angelegt und verwendet.</p>"},{"location":"admin/installation/#geolokalisierung","title":"Geolokalisierung","text":"<p>Um Geolokalisierung der Orte mit Geonames und Kartendarstellungen von Google Maps zu erm\u00f6glichen, m\u00fcssen folgende Variablen gesetzt sein:</p> <pre><code>GOOGLE_API_KEY\nGEONAMES_USERNAME\n</code></pre>"},{"location":"admin/installation/#mysql-datenbank-erstellen","title":"Mysql-Datenbank erstellen","text":"<p>Als root anmelden:</p> <pre><code>mysql -u root -p\n</code></pre> <p>Eine leere mysql-db anton_\"slug\" erstellen.</p> <pre><code>CREATE DATABASE anton_besenval;\n</code></pre> <p>Einen eigenen DB-User erstellen:</p> <pre><code>CREATE USER 'anton_besenval'@'localhost' IDENTIFIED BY 'user_password';\n</code></pre> <p>Ersetze <code>user_password</code> durch das Passwort.</p> <p>Alle Rechte f\u00fcr diese user einrichten:</p> <pre><code>GRANT ALL PRIVILEGES ON database_name.* TO 'anton_besenval'@'localhost';\nGRANT RELOAD, PROCESS ON *.* to 'anton_besenval'@'localhost';\n</code></pre>"},{"location":"admin/installation/#grundinstallation","title":"Grundinstallation","text":"<pre><code>php artisan anton:install -vv --env=besenval\n</code></pre> <p>Es laufen nun die n\u00f6tigen <code>migrations</code> und die Datenbank wird mit den Grunddaten versorgt.</p> <p>Nun kann im <code>.env.besenval</code> der Cache auf 'database' gesetzt werden.</p>"},{"location":"admin/installation/#datenverzeichnis-erstellen","title":"Datenverzeichnis erstellen","text":"<p>In <code>custumers/slug</code> bzw. <code>customers/besenval</code> werden die Kundendaten gespeichert. Das Verzeichnis inklusive der n\u00f6tigen Unterverzeichnisse kann einfach mit <code>anton:customdir</code> erstellt werden:</p> <pre><code>php artisan anton:customdir -vv --create --env=besenval\n</code></pre> <p>Nun als <code>root</code> das Verzeichnis schreibbar machen:</p> <pre><code>chmod -R 775 customers/besenval\n</code></pre>"},{"location":"admin/installation/#logo-kopieren","title":"Logo kopieren","text":"<p>Falls kein Logo zur Verf\u00fcgung steht, kann das Antonlogo kopiert werden:</p> <pre><code>php artisan anton:install --logo -vv --env=besenval\n</code></pre>"},{"location":"admin/installation/#matomo-einbinden","title":"Matomo einbinden","text":"<p>Auf Matomo einloggen http://matomo.anton.ch/. Unter \"Alle Websites\" eine neue Website hinzuf\u00fcgen.</p> <p>Auf Matomo einen User mit der entsprechenden Berechtigung einrichten.</p> <p>In den Anton Settings <code>analytics_id</code> mit der Motomo ID ausf\u00fcllen und den <code>analytics_auth_token</code> aus Matomo kopieren.</p>"},{"location":"admin/installation/#configure-supervisor","title":"Configure Supervisor","text":"<p>Als <code>root</code> die Konfigurationsdatei <code>etc/supervisor/supervisor.conf</code> \u00f6ffnen und einen neuen <code>customer</code> einrichten.</p> <p><pre><code>[program:laravel-worker-besenval]\nprocess_name=%(program_name)s_%(process_num)02d\ncommand=%(ENV_SPRVS_PHP)s %(ENV_SPRVS_ANTON)s/artisan queue:work database --tries=3 --timeout=120 --env=besenval\nautostart=true\nautorestart=true\nstartretries=10\nuser=%(ENV_SPRVS_USER)s\nnumprocs=1\nredirect_stderr=true\nstdout_logfile=%(ENV_SPRVS_LOG)s/worker-besenval.log\n</code></pre> Im selben Verzwichnis dann ein File environment anlegen und die Variablen bef\u00fcllen:</p> <pre><code>SPRVS_PHP=\nSPRVS_LOG=\nSPRVS_USER=\nSPRVS_ANTON=\n</code></pre> <p>Dann den supervisor als <code>root</code> neu starten:</p> <pre><code>supervisorctl stop\nsupervisorctl reread\nsupervisorctl update\nsupervisorctl restart\n</code></pre>"},{"location":"admin/logo/","title":"Logo","text":""},{"location":"admin/logo/#jpg-tiff-oder-png","title":"JPG, TIFF oder PNG","text":"<p>Unter Admin &gt; Upload Logo und Bilder Logo hochladen und anschliessend in der Tabelle Logo erstellen klicken. Es wird ein PNG-File erstellt und verwendet.</p>"},{"location":"admin/logo/#svg","title":"SVG","text":"<p>Unter Admin &gt; Upload Logo und Bilder SVG-Logo hochladen und anschliessend unter Admin &gt; Home &gt; Logo Dateinamen angeben.</p>"},{"location":"admin/mastodon/","title":"Mastodon","text":"<p>Anton hat die M\u00f6glichkeit \u00abNews\u00bb von Mastodon auf der Homepage oder auf einer eigenen News-Seite anzuzeigen. </p> <p>Das Anton Demo-Archiv (https://kr.anton.ch) nutzt den Server von Anoxinon e.V., einem Verein, der sich f\u00fcr Datenschutz und freie Software einsetzt: social.anoxinon.de. Die Kontoeinrichtung ist dann ganz einfach.</p> <p>F\u00fcr die Einrichtung auf Anton ben\u00f6tigt man die Serveradresse (z.B. https://social.anoxinon.de) und die User-ID. Die User-Id kann man auf prouser123.me/mastodon-userid-lookup/ nachschlagen. Anton kann die Timeline auf der Homepage links (<code>\"home_left\": true</code>) oder rechts (<code>\"home_right\": true</code>) unten einblenden oder eine eigene News Seite erstellen, die dann \u00fcber in der Haupnavigation erreichbar ist (<code>\"extra_page\": true</code>). Diese Angaben werden von uns dann im Setting <code>mastodon</code> gespeichert:</p> <pre><code>{\n    \"instance_uri\":\"https:\\/\\/social.anoxinon.de\",\n    \"user_id\":\"109246771755522189\",\n    \"profile_name\":\"@anton\",\n    \"extra_page\":true,\n    \"limit\": 10\n}\n</code></pre>"},{"location":"admin/requirements/","title":"Server Requirements","text":"<p>Anton v.0.32.0 is a Laravel Version 11 Application.</p> <ul> <li>Ubuntu<sup>1</sup> 20.04 oder 22.04 LTS</li> <li>PHP &gt;=8.2</li> <li>MySQL &gt;=8.0.35 (or Maria DB &gt;= 10.2.7)</li> <li>Apache 2.4 (mod_rewrite, .htaccess)</li> <li>PHP-Extensions<ul> <li>OpenSSL PHP Extension</li> <li>PDO PHP Extension (msql driver)</li> <li>Mbstring PHP Extension</li> <li>Tokenizer PHP Extension</li> <li>XML PHP Extension</li> <li>Ctype PHP Extension</li> <li>Tokenizer PHP Extension</li> <li>JSON PHP Extension</li> <li>BCMath PHP Extension</li> <li>ext-imagick PHP Extension</li> <li>ext-sodium</li> <li>ext-zip</li> <li>ext-gd</li> <li>ext-curl</li> </ul> </li> <li>composer</li> <li>ssh access</li> <li>git</li> <li>email (e.g. sendmail)</li> <li>ffmpeg, gs, poppler-utils, imagemagick</li> <li>supervisor</li> </ul> <ol> <li> <p>Other Operating Systems of the Linux or Unix-Family should also do the trick.\u00a0\u21a9</p> </li> </ol>"},{"location":"admin/restore/","title":"Backup and Restore from Backup","text":"<p>To backup the database just use the command</p> <pre><code>php artisan anton:backup --env besenval\n</code></pre> <pre><code>Options:\n  --file[=FILE]              Target file\n  --target-dir[=TARGET-DIR]  Target directory for the backup\n  --hourly                   Hourly Backup (filename: 00_backup_slug-hourly-23)\n  --daily                    Daily Backup (filename: 00_backup_slug-daily-19)\n  --weekly                   Weekly Backup (filename: 00_backup_slug-weekly-19)\n  --monthly                  Monthly Backup (filename: 00_backup_slug-monthly-04)\n  --yearly                   Yearly Backup (filename: 00_backup_slug-yearly-2019)\n</code></pre>"},{"location":"admin/restore/#restore-from-backup","title":"Restore from Backup","text":"<p>Restoring from a backup may become necessary for various reasons. The database can be restored with the command 'anton:restore':</p> <pre><code>php artisan anton:restore --env besenval\n</code></pre> <p><pre><code>Options:\n  --list            Lists available anton-sql-dumps.\n  --file[=FILE]     Source file.\n  --drop            Erase all tables.\n</code></pre> The database dump must be located in the <code>db_backup</code> folder in the customers-dir.</p>"},{"location":"admin/restore/#delete-obsolete-media","title":"Delete obsolete Media","text":"<p>To delete any media that may no longer referenced in the database after restoring from the backup:</p> <pre><code>php artisan anton:check-media -vv --levels 3 --delete-from-system --env besenval\n</code></pre>"},{"location":"admin/restore/#restore-lost-media","title":"Restore lost Media","text":"<p>If media-files are missing, they must be copied back from the external backup.</p>"},{"location":"admin/shrink/","title":"Shrink Anton for a public installation","text":"<p>If Anton is also to manage highly sensitive data, it is a good idea to run Anton on a private network rather than on the Internet. To publish your data nevertheless, it is possible to synchronise Anton with an instance on the Internet in which private and blocked information has been deleted.</p> <p>For this we use 3 Anton instances:</p> <p>Private Network:</p> <ul> <li>production: your working environment with all data  </li> <li>sync: a non-visible installation to delete the sensitive data</li> </ul> <p>Internet:</p> <ul> <li>public: a clone of the sync environment in the internet</li> </ul>"},{"location":"admin/shrink/#process","title":"Process","text":"<ol> <li>Backup of production  </li> <li>Restore database with data from production in sync  </li> <li>Shrink the data  </li> <li>Delete Media if not referenced in Sync; copy web-versions from production when needed  </li> <li>Backup of sync  </li> <li>Sync data from sync to public  </li> <li>Restore public</li> </ol> <p>For steps 1 to 4 there is the bash script <code>sync.sh</code>, which after the backup/restore starts the laravel script <code>anton:shrink-to-public</code> for step 3 and 4.</p>"},{"location":"admin/shrink/#shrink-to-public","title":"Shrink to public","text":"<pre><code>php artisan anton:shrink-to-public --path-to-media {path} --env {sync}\n</code></pre> <p>Since we are running this command in the sync environment, we need to pass the path to the media directory of the production environment.</p> <p>There is also an option <code>--days</code>. If set the command only copies media from production to sync if in the database the media has been updated during this period. If the syncronisation onve has been done that is an option to accelerate the cronjob.</p>"},{"location":"admin/sip-ingest/","title":"SIP Ingest","text":""},{"location":"admin/sip-ingest/#sip-ingest","title":"SIP Ingest","text":"<p>Anton enables the import/ingest of Submission Information Packages (SIP) in accordance with eCH-0160, whereby the files (dossiers) and documents are imported into the archive tectonics.</p> <p>Zum Standard: https://ech.ch/de/ech/ech-0160/1.2.0</p>"},{"location":"admin/sip-ingest/#requrirements","title":"Requrirements","text":""},{"location":"admin/sip-ingest/#anton","title":"Anton","text":"<ul> <li>Accession archive (Akzessionsarchiv): A (locked) archive whose ID is entered in the <code>accessions_archives_id</code> setting.</li> <li>The archive hierarchy (parents) must already exist in Anton.</li> <li>If the identifiers in the archive hierarchy have a prefix, this must be set (setting: identifier-prefix)</li> <li>With the setting strict_sip_validation, Anton issues an error during validation if a file is not found in the SIP.</li> <li>Anton Form (default_intern): </li> <li>sip_id: Contains the linked signature to the entry of the SIP in the accession archive (should be default_internal in the form)</li> <li>note.sip_md5sum, note.actual_backup should be in the default_internal form (displayed at fonds level/SIP)</li> </ul> <p>Example for the setting identifier-prefix</p> <p>The parent element (<code>&lt;ordnungssystemposition&gt;</code>) of the <code>&lt;dossier&gt;</code> corresponds to the <code>parent</code> in Anton. The <code>parent</code> in Anton is determined based on the content of the <code>&lt;number&gt;</code> element in the SIP. For example, if this number is \"0.6.6\", but the archive signature is \"A.1.4.0.6.6\", the prefix must be filled in accordingly with \"A.1.4.\".</p>"},{"location":"admin/testarchive/","title":"Testinstallation: Kr\u00e4nzle &amp; Ritter Firmenarchiv","text":"<p>Unter https://kr.anton.ch gibt es eine Testinstallation. Diese dient als Spielwiese. Die Daten der Testinstallation werden t\u00e4glich zur\u00fcckgesetzt.</p>"},{"location":"admin/testarchive/#wiederherstellen-des-testarchivs","title":"Wiederherstellen des Testarchivs","text":"<p>Das Testarchiv wird t\u00e4glich mit <code>anton:reset</code> per cronjob wiederhergestellt.</p> <pre><code>1 2 * * * cd path_to_anton; \\\nphp artisan anton:reset --env=\"kr\" \\\n--dump=\"{path_to_anton-customers}/kr/reset_db/reset.sql.gz\" \\\n--assets=\"{path_to_anton-customers}/kr/reset_assets\" \\\n--mail &gt;/dev/null\n</code></pre>"},{"location":"admin/testarchive/#anderungen-dauerhaft-speichern","title":"\u00c4nderungen dauerhaft speichern","text":"<p>Um \u00c4nderungen dauerhaft zu speichern, ist deshalb ein Backup aus dem Datenbank-Dump <code>{path_to_anton-customers}/kr/reset_db/reset.sql.gz</code> zu machen:</p> <pre><code>php artisan anton:backup --file \"{path_to_anton-customers}/kr/reset_db/reset.sql.gz\" --env kr\n</code></pre> <p>Nun wird bei der n\u00e4chsten Wiederherstellung das neue Backup verwendet.</p>"},{"location":"admin/watermarks/","title":"Watermarks","text":"<p>Wasserzeichen k\u00f6nnen zu allen Bildern \"on-the-fly\" zugef\u00fcgt werden. Die entsprechende Konfiguration ist im Setting \"watermark\" abgelegt.</p>"},{"location":"admin/watermarks/#rollen","title":"Rollen","text":"<p>Wenn ein Setting \"watermark\" besteht, werden f\u00fcr nicht angemeldete Benutzer:innen Wasserzeichen immer angezeigt. Zus\u00e4tzlich k\u00f6nnen in einem Array noch Rollen definiert werden, f\u00fcr die Wasserzeichen angezeigt werden sollen. <pre><code>\"roles\": [  \n    \"user\", \"user_intern\"  \n],  \n</code></pre></p>"},{"location":"admin/watermarks/#wasserzeichen","title":"Wasserzeichen","text":"<p>Im Array \"watermarks\" k\u00f6nnen mehrere Wasserzeichen definiert werden. Wenn sich zwei Wasserzeichen \u00fcberlappen, wird das weiter unten definierte \u00fcber das weiter oben definierte gezeichnet.</p>"},{"location":"admin/watermarks/#typen","title":"Typen","text":"<p>Wasserzeichen k\u00f6nnen als Text oder als Bild eingebettet werden. Je nach Typ bestehen unterschiedliche Konfigurationsm\u00f6glichkeiten.</p>"},{"location":"admin/watermarks/#text","title":"Text","text":"<pre><code>{\n    \"type\": \"text\", // type of watermark: text|image\n    \"text\": {\n        \"de\": \"\u00a9 K&amp;R | &lt;identifier&gt;\", // german version, required, default, allowed placeholders: &lt;identifier&gt;, &lt;permalink&gt;\n        \"en\": \"\u00a9 K&amp;R | &lt;identifier&gt;\", // additional languages optional\n    },\n    \"fontfile\": \"Oswald-Medium.ttf\", // in customer_folder, subfolder \"fonts\"\n    \"fontsize\": 18, //optional, default 18\n    \"color\": \"#fff\", //optional, default #000\n    \"angle\": 0, //optional, default 0\n    \"position\": \"bottom-left\", // top-left|top|top-right|left|center|right|bottom-left|bottom|bottom-right, optional, default top-left\n    \"hmargin\": 20, // horizontal margin, optional, default 10\n    \"vmargin\": 20, // vertical margin, optional, default 10\n    \"background-color\": \"rgba(0, 0, 0, 0.5)\" // optional, default none, use rgba for opacity setting\n    }\n</code></pre>"},{"location":"admin/watermarks/#bild","title":"Bild","text":"<pre><code>{\n    \"type\": \"image\", // type of watermark: text|image\n    \"imagefile\": \"logo.png\", // in customer_folder, subfolder \"img\"\n    \"position\": \"top-left\", // top-left|top|top-right|left|center|right|bottom-left|bottom|bottom-right, optional, default top-left\n    \"hmargin\": 10, // horizontal margin, optional, default 0\n    \"vmargin\": 10 // vertical margin, optional, default 0\n    }\n</code></pre>"},{"location":"admin/watermarks/#beispielkonfiguration","title":"Beispielkonfiguration","text":"<pre><code>{\n  \"roles\": [\n    \"user\",\n    \"user_intern\"\n  ],\n  \"watermarks\": [\n    {\n      \"type\": \"text\",\n      \"text\": {\n        \"de\": \"\u00a9 K&amp;R | &lt;identifier&gt;\"\n      },\n      \"fontfile\": \"Oswald-Medium.ttf\",\n      \"fontsize\": 18,\n      \"color\": \"#fff\",\n      \"angle\": 0,\n      \"position\": \"bottom-left\",\n      \"hmargin\": 10,\n      \"vmargin\": 10,\n      \"background-color\": \"rgba(0, 0, 0, 0.5)\"\n    },\n    {\n      \"type\": \"image\",\n      \"imagefile\": \"logo.png\",\n      \"position\": \"top-left\",\n      \"hmargin\": 10,\n      \"vmargin\": 10\n    }\n  ]\n}\n</code></pre>"},{"location":"api/","title":"API","text":""},{"location":"customers/asla/","title":"Asla","text":""},{"location":"customers/asla/#bilder-die-auf-private-gesetzt-sind-sollen-auch-intern-nicht-in-der-galerie-erscheinen","title":"Bilder die auf private gesetzt sind, sollen auch intern nicht in der Galerie erscheinen","text":"<p>L\u00f6sung mit SQL Event:</p> <pre><code>show events\ncreate event sync_private_media_dont_show_in_gallery\non schedule every 1 day\ndo\nupdate media set dont_show_in_gallery = 1 where private_media = 1;\n</code></pre>"},{"location":"customers/gf/","title":"Georg Fischer Konzernarchiv","text":""},{"location":"customers/gf/#tiff-bilder-aus-einem-bestand-soll-nicht-in-der-bildgalerie-gezeigt-werden","title":"TIFF-Bilder aus einem Best\u00e4nd soll nicht in der Bildgalerie gezeigt werden","text":"<pre><code>update media\nset dont_show_in_gallery = 1\nwhere mime_type = 'image/tiff'\nand (file_name like 'gfa_17_%'\nand `dont_show_in_gallery` is null\n</code></pre>"},{"location":"customers/gosteli/","title":"Gosteli-Archiv","text":""},{"location":"customers/gosteli/#schrift-lausanne-installieren","title":"Schrift Lausanne installieren","text":"<p>F\u00fcr MS Word. Als root:</p> <pre><code>cp /usr/local/prj/anton/gosteli/public/fonts/TWKLausanne-300.woff /usr/share/fonts/\nfc-cache -f -v\n</code></pre>"},{"location":"customers/gosteli/#fotoprojekt-import-fotodateien","title":"Fotoprojekt: Import Fotodateien","text":"<p>Erster Testimport (2025-09-29)</p> <p><code>` art anton:import --env gosteli -vv --update --locale de ../customers/gosteli/metadata_to_import/agof-180-81-08-import-images-and-update.xlsx --import --default-excel-column identifier</code></p> <p>!!! note: \"--default-excel-column identifier\"     Default ist <code>id</code>. Hier sollen die Datens\u00e4tze aber nach der Signatur (<code>identifier</code>) gefunden werden, deshalb gibt es keine Spalte <code>id</code>.</p>"},{"location":"customers/koeniz/","title":"K\u00f6niz","text":""},{"location":"customers/koeniz/#import-excel-zum-aufbau-einer-hierarchie","title":"Import Excel zum Aufbau einer Hierarchie","text":"<p>Eine \u00abImportHelper\u00bb Klasse erstellen, die das Mapping \u00fcbernimmt und ein Anton Import Array aufbaut.</p> <p>Lokal:</p> <pre><code>ddev art anton:import --env koeniz customers/koeniz/metadata_to_import/Langzeitarchiv-Verzeichnis.xlsx --create-locations --from-database=Anton\\\\Console\\\\Extensions\\\\Koeniz\\\\ImportHelper\n</code></pre>"},{"location":"developer/antonfields/","title":"Antonfields","text":""},{"location":"developer/antonfields/#add-a-new-custom-text-field","title":"Add a new custom text field","text":""},{"location":"developer/antonobjects-sideeffects/","title":"How do methods of AntonObject affect other Objects","text":""},{"location":"developer/antonobjects-sideeffects/#delete","title":"delete()","text":"<ul> <li>update Dates of all Ancestors (if date extends minmax of parent)</li> <li>no Update of fulltext index</li> <li>no Update of private Attribute</li> <li>not Update of real_depth</li> <li>not Update of path</li> </ul> <p>children are not affected</p>"},{"location":"developer/antonobjects-sideeffects/#create","title":"create()","text":"<ul> <li>update Dates of all Ancestors (if date is set an extends minmax of parent)</li> <li>update of fulltext index for actual object</li> <li>no update of private Attribute</li> <li>set real_depth of Object</li> <li>set path of Object</li> </ul> <p>no children are not affected</p>"},{"location":"developer/antonobjects-sideeffects/#update","title":"update()","text":"<ul> <li>update Dates of all Ancestors (if date extends minmax of parent)</li> <li>update of fulltext index for actual object</li> <li>update of fulltext for descendants (if title has changed)</li> <li>update of private Attribute for descendants (if private has changed)</li> <li>no update of real_depth</li> <li>no update of path</li> </ul> <p>children might be affected</p>"},{"location":"developer/antonobjects-sideeffects/#move","title":"move()","text":"<ul> <li>update Dates of old and new Ancestors (if date extends minmax of parent)</li> <li>update of fulltext index for actual object and descendants</li> <li>no update of private Attribute (can be inconsistant)</li> <li>update of real_depth of actual object and descendants</li> <li>update of path of actual object and descendants</li> </ul>"},{"location":"developer/data-tables/","title":"Data Tables (Livewire)","text":"<p>Example: places</p>"},{"location":"developer/data-tables/#form-class","title":"Form Class","text":"<p>Create a <code>PlacesForm</code> Class in <code>app/Forms/</code>. The array should contain a 'list' entry with the column definitions:</p> <pre><code>&lt;?php\n\nnamespace Anton\\Forms;\n\nuse Anton\\Forms\\AbstractForms;\n\nclass PlacesForms extends AbstractForms\n{\n    public static function getDefinitions() : array\n    {\n        return [\n            'list' =&gt; [\n                ['name' =&gt; 'id', 'label' =&gt; 'ID', 'sortField' =&gt; 'id'],\n                ['name' =&gt; 'place_type-label', 'label' =&gt; trans('messages.Type'), 'sortField' =&gt; 'place_type_id'],\n                ['name' =&gt; 'name', 'label' =&gt; trans('messages.Name'), 'sortField' =&gt; 'name'],\n                ['name' =&gt; 'city', 'label' =&gt; trans('messages.City'), 'sortField' =&gt; 'city'],\n                ['name' =&gt; 'state', 'label' =&gt; trans('messages.State'), 'sortField' =&gt; 'state'],\n                ['name' =&gt; 'country-label', 'label' =&gt; trans('messages.country'), 'sortField' =&gt; 'country_code_id'],\n                ['name' =&gt; 'buttons', 'sort' =&gt; false, 'with' =&gt; ['detail', 'edit', 'delete']]\n            ],\n        ];\n    }\n}\n</code></pre>"},{"location":"developer/data-tables/#datatable-class","title":"Datatable Class","text":"<p>Create a Class <code>DataTable</code> in <code>Livewire/Places</code>:</p> <pre><code>&lt;?php\n\nnamespace Anton\\Http\\Livewire\\Places;\n\nuse Livewire\\WithPagination;\nuse Anton\\Http\\Livewire\\DataTableWithRequest;\n\n/**\n * Places DataTable\n **/\n\nclass DataTable extends DataTableWithRequest\n{\n    use WithPagination;\n\n    public $endpoint = '/places';\n\n    public $formtype = 'list';  // key in array of forms in PlacesForms.php\n\n    public $model = 'Anton\\Models\\Place';\n\n    public $view = 'places.data-table';\n}\n</code></pre>"},{"location":"developer/data-tables/#index-view","title":"Index view","text":"<p>In `resources/views/places/index.blade.php:</p> <pre><code>@extends('master')\n\n@section('content')\n\n@if($user-&gt;isUserIntern())\n    &lt;p&gt;{!! link_to_route('admin', trans('messages.Admin') ) !!} &amp;gt; &lt;/p&gt;\n@endif\n\n &lt;h2&gt;{!! Lang::choice('messages.Existing', 2) !!} {!! trans('messages.Places') !!}&lt;/h2&gt;\n\n @livewire('places.data-table')\n\n\n@stop\n</code></pre>"},{"location":"developer/data-tables/#livewire-view","title":"Livewire View","text":"<p>In <code>resources/views/livewire/places/data-table</code>: </p> <pre><code>@include('includes._data-table')\n</code></pre>"},{"location":"developer/data-tables/#controller","title":"Controller","text":"<p>Make sure that the controller gets these two public attributes and it uses the <code>Controller.php</code> as parent:</p> <pre><code>class PlacesController extends BaseController\n{\n    public $modelClass = '\\Anton\\Models\\Place';\n\n    public $endpoint = 'places';\n</code></pre>"},{"location":"developer/data-tables/#model","title":"Model","text":""},{"location":"developer/data-tables/#dtquery","title":"dtQuery()","text":"<p>The Model should have a <code>dtQuery()</code> Method:  </p> <pre><code>public function scopeDtQuery($query, $params)\n    {\n        $search = $params['search'] ?? '';\n        $locale = \\App::getLocale();\n\n        $query = $query-&gt;selectRaw('places.id as id,\n                           tt.label as place_type,\n                           places.name as name,\n                           places.city as city,\n                           places.state as state,\n                           ct.label as country,\n                           places.description')\n            -&gt;leftJoin('terms as t', 'places.place_type_id', '=', 't.id')\n            -&gt;leftJoin('term_translations as tt', function($join) use ($locale) {\n                $join-&gt;on('t.id', '=', 'tt.term_id')\n                     -&gt;where('tt.locale', $locale);\n                })\n            -&gt;leftJoin('countries as c', 'places.country_code_id', '=', 'c.id')\n            -&gt;leftJoin('country_translations as ct', function($join) use ($locale) {\n                $join-&gt;on('c.id', '=', 'ct.country_id')\n                     -&gt;where('ct.locale', $locale);\n            });\n\n        if ($search) {\n            $query-&gt;where('places.name', 'like', '%'.$search.'%')\n                  -&gt;orWhere('tt.label', 'like', '%'.$search.'%')\n                  -&gt;orWhere('places.city', 'like', '%'.$search.'%')\n                  -&gt;orWhere('places.state', 'like', '%'.$search.'%')\n                  -&gt;orWhere('ct.label', 'like', '%'.$search.'%')\n                  -&gt;orWhere('places.description', 'like', '%'.$search.'%');\n        }\n        // \\Log::debug($query-&gt;toSql());\n\n        return $query;\n    }\n</code></pre> <p>The <code>$param['search']</code> is for filtering the table. </p> <p>You can simplify the <code>scopeDtQuery</code> method by creating accessors, however, if for example a translation label is needed or a valuelist is used, then a join will reduce the number of queries.</p>"},{"location":"developer/data-tables/#attributes-and-accessors","title":"Attributes and Accessors","text":"<p>For each column name of the table there must be an attribute or an accessor with this name. If the accessor uses a term it is best to use a static variable for the valuelist within the accessor to reduce the database queries:</p> <pre><code>public function getPlaceTypeLabelAttribute()\n{\n    static $placeTypeLabels;\n\n    if (!isset($placeTypeLabels)) {\n        $placeTypeLabels = Term::getValueList('place_type');\n    }\n\n    return $placeTypeLabels[$this-&gt;place_type_id] ?? '';\n}\n</code></pre>"},{"location":"developer/data-tables/#cotroller-methods","title":"Cotroller Methods","text":"<p>In order to get the Links work we have to implement the show, edit and destroy methods in the controller. </p>"},{"location":"developer/fields/","title":"Fields","text":"<p>All fields must have a name.</p>"},{"location":"developer/fields/#attributes","title":"Attributes","text":""},{"location":"developer/fields/#name","title":"<code>@name</code>","text":"<p>Rules: <code>string</code></p> <p>Description: There must be an attribute or an accessor in the model which returns the name of the model. </p>"},{"location":"developer/fields/#type","title":"<code>@type</code>","text":"<p>Rules: <code>nullable|string|in:display,...</code></p> <p>Default: Display</p> <p>Description: Contains a field type like textarea, input ...</p>"},{"location":"developer/fields/#label","title":"<code>@label</code>","text":"<p>Rules: <code>nullable|string</code> </p> <p>Description: Contains a key from <code>resources/lang/messages.php</code>. </p> <p><code>@labelCssClass</code> </p> <p>Rules: <code>nullable|string</code> </p> <p>Default: <code>col-md-2</code></p> <p>Description: Contains a CSS class f\u00fcr the label.</p> <p><code>@fieldCssClass</code></p> <p>Rules: <code>nullable|string</code> </p> <p>Default: <code>col-md-10</code></p> <p>Description: Contains a CSS class f\u00fcr the field div.</p>"},{"location":"developer/fields/#display","title":"display","text":"<p>Shows information. Standard field for <code>detail</code> and <code>detail_intern</code> forms.</p> <ul> <li>required: <code>name</code>, <code>label</code> </li> </ul> <p>Note</p> <p><code>name</code> must correspond to an attribute or accessor of the model</p>"},{"location":"developer/fields/#module_actors","title":"module_actors","text":"<p>Displays actors as descriptors.</p> <ul> <li>uses: <code>$model-&gt;actors-&gt;links()</code></li> <li>required: <code>label</code></li> </ul>"},{"location":"developer/fields/#module_event","title":"module_event","text":"<p>Displays an antonevents of the same type. </p> <ul> <li>uses: <ul> <li><code>$model-&gt;hasChrildren()</code></li> <li><code>$model-&gt;creationDateLabel</code></li> <li><code>model-&gt;antonevents</code></li> </ul> </li> <li>required: <ul> <li>(string) <code>eventtype</code> (\"creation\"), </li> <li><code>label</code></li> <li><code>modus</code></li> </ul> </li> <li>restricted to: <code>antonobjects</code> (other entities dont have children)</li> </ul>"},{"location":"developer/fields/#module_keywords","title":"module_keywords","text":"<p>Displays keywords as descriptors.</p> <ul> <li>uses: <code>$model-&gt;keywords-&gt;links()</code></li> <li>required: <code>label</code></li> </ul>"},{"location":"developer/fields/#module_permalink","title":"module_permalink","text":"<p>Shows a permanent link with endpoint and id (eg. \"/actors/3\")</p> <ul> <li>uses: <code>$endpoint</code>, <code>$model-&gt;id</code></li> <li>required: <code>label</code></li> </ul>"},{"location":"developer/fields/#module_places","title":"module_places","text":"<p>Displays places as descriptors.</p> <ul> <li>uses: <code>$model-&gt;places-&gt;links()</code></li> <li>required: <code>label</code></li> </ul>"},{"location":"developer/fields/#section","title":"section","text":"<p>Separates and titles information areas.</p> <ul> <li>required: <code>label</code> </li> <li>options: <code>with_save_button</code></li> </ul>"},{"location":"developer/fields/#textarea","title":"textarea","text":""},{"location":"developer/forms/","title":"Forms","text":"<p>Each controller has the following public attributes:</p> <pre><code>public $modelClass = '\\Anton\\Models\\Setting';\n\npublic $endpoint = 'settings';\n\npublic $translation_string = 'messages.Settings';\n````\n\n## Create a Form\n\n```php\n$formtype = 'detail_intern';\n$form = Form::get($this-&gt;endpoint, $formtype);\n</code></pre>"},{"location":"developer/forms/#initialize-in-views","title":"Initialize in Views","text":"<p>Example: </p> <pre><code>@include('fields.form', [\n         'model' =&gt; $model,\n         'form' =&gt; $form\n])\n</code></pre>"},{"location":"developer/forms/#valuelists-for-select2","title":"Valuelists for select2","text":""},{"location":"developer/forms/#api","title":"Api","text":"<pre><code>api/valuelists/{name}/{locale}?format=select2\n</code></pre> name in the route internal name authority_types authority_type detail_of_description_values detail_of_description languages languages level_of_description level_of_description locations location objectform_types objectformtypes object_types object_type period_of_protection_values period_of_protection private_values private status_of_description_values status_of_description vacat_values vacat"},{"location":"developer/search/","title":"Search","text":""},{"location":"developer/search/#adding-a-new-search-field","title":"Adding a new Search Field","text":"<ul> <li>Add a new entry to the <code>searchfields</code> in <code>config/custom.php</code>.</li> <li>Add the new valuelist to <code>Term::getValueList()</code>. </li> <li>Add a new case to <code>AntonObject::scopeDtQuery()</code>. </li> </ul>"},{"location":"developer/search/#create-an-individual-list-of-available-search-fields","title":"Create an individual List of available Search Fields","text":"<p>Just create your own <code>searchfields</code> array in the <code>settings</code>. You can use all lines from the <code>config/custom.php</code>.</p> <p>Grab the full list here: https://kr.anton.ch/admin/searchfields</p>"},{"location":"faq/","title":"Allgemeine FAQs","text":""},{"location":"faq/#webbasiert","title":"Webbasiert","text":"<p>Anton ist als Webdatenbank konzipiert, weshalb nicht nur die Recherche sondern auch die Bearbeitung und \u00c4nderung der Daten \u00fcber das Internet erfolgen. Es wird lediglich einen aktueller Browser und ein Internetanschluss ben\u00f6tigt, um mit Anton vollst\u00e4ndig arbeiten zu k\u00f6nnen.</p>"},{"location":"faq/#mehrplatzfahig","title":"Mehrplatzf\u00e4hig","text":"<p>Die/der Kund:in erh\u00e4lt einen Admin-Zugang, mit dem beliebig viele neue User mit verschiedenen Berechtigungen (User, User intern, Editor, Admin) angelegt werden k\u00f6nnen.</p>"},{"location":"faq/#archivportale","title":"Archivportale","text":"<p>Der Datenexport nach EAD ist auf die Anforderungen des europ\u00e4ischen Archivportals ausgerichtet. Die Teilnahme wird in der Schweiz vom Bundesarchiv koordiniert.</p> <p>Anton erm\u00f6glicht auch die Teilnahme an \u00abArchives Online\u00bb. </p>"},{"location":"faq/#kann-anton-als-digitales-langzeitarchiv-eingesetzt-werden","title":"Kann Anton als digitales Langzeitarchiv eingesetzt werden?","text":"<p>Die digitale Langzeitarchivierung ist eine sehr komplexe und vielschichtige Aufgabe, bei der Anton as a Service oder on Premises eingesetzt werden kann. F\u00fcr die sogenannte Bitstream Preservation, also die eigentliche Datenspeicherung und -sicherung, erf\u00fcllt Anton alle Anforderungen: Die digitalen Daten werden auf einer geeigneten Infrastruktur gespeichert, die drei Kopien an drei Stadorten vorh\u00e4lt. Die Integrit\u00e4t der Daten wird regelm\u00e4ssig \u00fcberpr\u00fcft, d.h. es wird \u00fcberwacht, ob die Daten ver\u00e4ndert oder besch\u00e4digt sind. Der Zugang zu den Daten erfolgt ausschliesslich \u00fcber Anton, der nur autorisierte Zugriffe erm\u00f6glicht. Bei rechtlich gesch\u00fctzten Daten sind allenfalls zus\u00e4tzliche Kriterien wie etwa der m\u00f6gliche/erlaubte Serverstandort abzukl\u00e4ren. Die Daten sind aufgrund der Metadaten in Anton jederzeit einfach und schnell auffindbar und verf\u00fcgbar. </p> <p>Bei der Vorbereitung der \u00dcbernahme (Bewertung, Ingest, Preingest etc.) und dem Preservation Planning unterst\u00fctzen wir unsere Kunden gerne.</p>"},{"location":"faq/anton_as_service/","title":"Anton as Service","text":"<p>Anton l\u00e4uft auf einem von k\u00a0&amp;\u00a0r bei einem f\u00fchrenden Anbieter gemieteten Server (Standort Schweiz). k\u00a0&amp;\u00a0r ist sowohl f\u00fcr die Einrichtung und Pflege des Servers (Absicherung des Servers, Monitoring, Updates und Upgrade des Betriebssystems) als auch f\u00fcr die Einrichtung und Pflege von Anton (Updates und Upgrades) verantwortlich.</p> <p>Vom Produktiv-Server wird t\u00e4glich auf zwei geografisch entfernten Servern ein Backup gespeichert. Von einem weiteren Server werden die involvierten Rechner laufend auf ihre Funktionalit\u00e4t hin beobachtet (Monitoring), so dass k\u00a0&amp;\u00a0r bei Problemen jederzeit informiert ist und schnell eingreifen kann.</p>"},{"location":"faq/anton_as_service/#vorteile","title":"Vorteile","text":"<ul> <li>die Mitarbeitenden des Archivs ben\u00f6tigen nur einen Internetzugang und einen aktuellen Webbrowser  </li> <li>konstante, berechenbare Kosten  </li> <li>optimale Abstimmung von Infrastruktur (Serverbetriebssystem, installierte Software) und Anton-Installation  </li> </ul>"},{"location":"faq/anton_as_service/#nachteile","title":"Nachteile","text":"<ul> <li>bei sehr grossen Datenmengen evtl. teurer als eine L\u00f6sung auf einem eigenen Server  </li> <li>bei sensiblen Daten: Daten sind nicht auf dem eigenem Server  </li> <li>bei hochsensiblen Daten: Daten werden \u00fcber das Internet verwaltet (nicht empfohlen)  </li> </ul>"},{"location":"faq/anton_as_service/#kosten","title":"Kosten","text":"<p>Anton soll es gerade auch kleineren und mittleren Archiven erm\u00f6glichen, die Best\u00e4nde professionell und nachhaltig zu erschliessen. Deshalb wird die teure Infrastruktur von mehreren Antonkunden geteilt. Damit k\u00f6nnen Updates und Upgrades jederzeit schnell und kosteng\u00fcnstig eingespielt werden. F\u00fcr jede Instanz (Kund:in) wird ein Datenverzeichnis (PDFs, Bilder, Logo usw.) sowie eine eigene Datenbank angelegt. Diese Struktur macht es m\u00f6glich, dass der Aufwand f\u00fcr die Einrichtung und Pflege von Anton relativ g\u00fcnstig ist. Trotzdem sind die Daten der Kund:innen gut gekapselt und damit einfach als Ganzes handhabbar.</p>"},{"location":"faq/anton_on_premises/","title":"Anton on premises","text":"<p>Anton l\u00e4uft auf dem eigenen Server.</p> <p>k &amp; r ist nur f\u00fcr den Unterhalt und Support der Anwendung Anton verantwortlich. F\u00fcr die Absicherung des Servers, Backups und Updates/Upgrades des Betriebssystems und evtl. auch einzelner Softwarepakete, Apache-Konfiguration sind die Auftraggeber:innen zust\u00e4ndig.</p> <p>Bei vorhandener IT-Infrastruktur kann Anton on Premises auch wirtschaftlich attraktv sein. Insbesondere, wenn eine grosse Datenmenge mit Anton verwaltet werden soll.</p>"},{"location":"faq/erschliessung/","title":"Erschliessung","text":""},{"location":"faq/erschliessung/#stufenerschliessung-nach-isadg","title":"Stufenerschliessung nach ISAD(G)","text":"<p>Anton wurde als Umsetzung des Standards ISAD(G) konzipiert und setzt diesen voll um. Die hierarchische Erschliessung ist beliebig tief m\u00f6glich. Als Verzeichnungsstufen sind folgende Bezeichnungen vorgesehen: Archiv, Bestandsgruppe, Bestand, Serie, Klasse, Dossier, Einzelst\u00fcck. Alle Verzeichnungsstufen ausser Bestand k\u00f6nnen in sich beliebig oft wiederholt werden.</p> <p>Die einzelnen Informationsbereiche von ISAD(G) sind mit einem oder mehreren Textfeldern, als Auswahlfelder und/oder als Antonereignis implementiert.</p>"},{"location":"faq/erschliessung/#automatische-signaturvergabe","title":"Automatische Signaturvergabe","text":"<p>Anton vergibt automatisch Signaturen auf der Basis der Bestandssignatur, die aber jederzeit \u00fcberschrieben werden k\u00f6nnen. Es gibt verschiedene Optionen f\u00fcr die Signaturvergabe. Auch lassen sich neue Signatur-Generatoren programmieren und f\u00fcr einzelne Installationen aktivieren.</p>"},{"location":"faq/erschliessung/#antonereignisse","title":"Antonereignisse","text":"<p>Mit der separaten Verwaltung der Akteure (Personen, Organisationen u.a.) und deren Verkn\u00fcpfung mit den Verzeichnungseinheiten in Ereignissen sind konzeptionelle Ideen von Records in Context (vgl. https://www.ica.org/en/records-in-contexts-conceptual-model) ebenfalls bereits umgesetzt. Die \u00abAntonereignisse\u00bb enthalten den Typ des Ereignisses (z.B. \u00abErstellung\u00bb), einen Zeitpunkt oder Zeitraum,  optional einen Akteur, einen Ort und eine detailliertere Beschreibung.</p> <p>In Anton gibt es vordefinierte Ereignistypen u.a.:</p> <ul> <li>Erstellung  </li> <li>Ablieferung  </li> <li>Provenienz  </li> <li>Reproduktion  </li> <li>Digitalisierung  </li> <li>Empfang  </li> <li>Vortrag  </li> </ul>"},{"location":"faq/erschliessung/#automatische-errechnung-von-laufzeiten","title":"Automatische Errechnung von Laufzeiten","text":"<p>Das Antonereignis \u00abErstellung\u00bb wird nur auf der jeweils untersten Verzeichnungsebene erfasst. Anton errechnet die Laufzeit f\u00fcr die Verzeichnungseinheiten der h\u00f6heren Stufen dann automatisch.</p>"},{"location":"faq/erschliessung/#umfang-automatisch-errechnung-des-umfangs","title":"Umfang (automatisch Errechnung des Umfangs)","text":"<p>In Anton werden pro Bestand die Laufmeter erfasst. Diese werden dann f\u00fcr Bestandsgruppen und das Archiv kumuliert. F\u00fcr Dossiers und Einzelst\u00fccke ist die Erfassung des Umfangs mit den Feldern Objekttyp und Umfang (St\u00fcckzahl) empfohlen. Ein Beschreibungsfeld f\u00fcr den Umfang steht ebenfalls zur Verf\u00fcgung.</p>"},{"location":"faq/erschliessung/#deskriptoren","title":"Deskriptoren","text":"<p>Neben den Antonereignissen, die die Interaktion eines Akteurs mit der Verzeichnungseinheit beschreiben, k\u00f6nnen die Akteure, Orte und Schlagworte auch als Deskriptoren direkt f\u00fcr die Inhaltsbeschreibung verwendet werden. Diese Art der Erschliessung ist besonders f\u00fcr audiovisuelle Sammlungen attraktiv.</p>"},{"location":"faq/erschliessung/#textformatierung-und-links-in-den-textfeldern","title":"Textformatierung und Links in den Textfeldern","text":"<p>Anton versteht in den Textfeldern Markdown (https://de.wikipedia.org/wiki/Markdown), eine einfache Auszeichnungssprache. D.h. f\u00fcr die Anzeige im Browser werden beispielsweise \u00dcberschriften und Listen formatiert. So k\u00f6nnen auch einfach Links auf externe Websites oder auf verwandte Verzeichnungseinheiten oder andere Seiten in Anton eingef\u00fcgt werden.</p> <p> Markdown Texteingabe. \u00dcberschriften werden mit gekenzeichnet ##; bei Aufz\u00e4hlungen beginnen die Zeilen einfach mit - oder *.</p> <p> Text in der HTML-Ansicht. \u00dcberschriften werden ausgezeichnet dargestellt. Ebenso wird die Aufz\u00e4hlung formatiert.</p>"},{"location":"faq/erschliessung/#linked-data-und-normdaten","title":"Linked Data und Normdaten","text":"<p>Die Deskriptoren Akteure, Orte und Schagworte k\u00f6nnen leicht mit externen Datenbanken bzw. Normdatenbanken verlinkt werden. Standardm\u00e4ssig sind verschiedene Ressourcen verf\u00fcgbar:</p> <ul> <li>Wikipedia  </li> <li>Wikidata  </li> <li>GND  </li> <li>Geonames  </li> <li>Ortsnamen  </li> <li>Metagrid  </li> <li>manual input  </li> </ul> <p>Wird ein Ort mit Geonames verlinkt, werden auch die Geokoordinaten gespeichert und eine Karte eingeblendet, die den Ort lokalisiert.</p> <p>Weitere Resourcen werden automatisch verlinkt, wenn eine Suche mit einer der Ids erfolgreich war.</p> <p>Auch die manuelle Eingabe von Resourcen (externen Links) ist m\u00f6glich.</p>"},{"location":"faq/erschliessung/#einbindung-von-audiovisuellen-dokument-und-medien","title":"Einbindung von audiovisuellen Dokument und Medien","text":"<p>Zu jeder Verzeichnungseinheit lassen sich ein oder mehrere Bilder und andere Medien (PDF, Ton, Video) einbinden. Die Zuordnung geschieht mittels Drag and Drop oder per Excel-Import. Um die Bilder optimal zu erschliessen (z.B. Verschlagwortung) ist die Erfassung jedes Bildes auf Einzelst\u00fcckebene empfohlen. Dann l\u00e4sst sich auch die Bildgalerie optimal nutzen (vgl. z.B. https://archives.georgfischer.com/gallery oder https://bahnarchiv.ch).</p> <p>Die meisten Archive nutzen Anton auch als digitales Langzeitarchiv f\u00fcr ihre Medien. Dann ist wichtig, dass die Medien im Vorfeld (Preingest) validiert und in geeignete Formate gebracht wurden. Anton speichert und verwaltet die Archivversion (z.B. TIFF) und erstellt Benutzungskopien (z.B. JPEG) in verschiedenen Aufl\u00f6sungen f\u00fcr externe Benutzer:innen. Die Archivversionen werden mit einer Pr\u00fcfsumme gespeichert, so dass sp\u00e4ter die Integrit\u00e4t der Dateien schnell \u00fcberpr\u00fcft werden kann.</p>"},{"location":"faq/erschliessung/#verschiedene-erfassungs-und-anzeigeformulare","title":"Verschiedene Erfassungs- und Anzeigeformulare","text":"<p>Standardm\u00e4ssig ist jeder Verzeichnungseinheit der Formularsatz ihrer Verzeichnungsstufe zugeordnet. So werden typischerweise f\u00fcr Best\u00e4nde eher Felder aus dem Informationsbereich \u00abKontext\u00bb angezeigt, w\u00e4hrend auf Stufe Einzelst\u00fcck eher Felder angezeigt werden, die die physische Beschaffenheit betreffen. Es ist auch m\u00f6glich spezifische Formulars\u00e4tze zu erstellen und diese manuell einer Verzeichnungseinheit zuzuordnen. Die einzelnen Formulare sind schnell und einfach anpassbar.</p> <p>Ein Formularsatz besteht aus 3 Formularen: Erfassung (Edit), Ansicht intern (Detail intern) und Ansicht extern (Detail extern). Die Formular definieren, welche Datenfelder in welchem Kontext zu sehen sind. So enth\u00e4lt typischerweise das Formular \u00abDetail intern\u00bb das Feld \u00abArchivinterne Bemerkungen\u00bb. Wenn nun das Feld nicht im Formular \u00abDetail extern\u00bb enthalten ist, sind die \u00abArchivinternen Bemerkungen\u00bb nur f\u00fcr intere Benutzer:innen, Editor:innen und Anmins sichtbar.</p>"},{"location":"faq/erschliessung/#akzessionen","title":"Akzessionen","text":"<p>Anton verf\u00fcgt nicht \u00fcber ein spezielles Akzessionsmodul. Alternativ k\u00f6nnen neu eingegangene Best\u00e4nde in Anton f\u00fcr die \u00d6ffentlichkeit gesperrt/unsichtbar angelegt werden (etwa in einem unsichtbaren Teilarchiv); die Akzessionsgeschichte eines Bestands kann einerseits im Feld Akzessionen/Neuzug\u00e4nge (ISAD(G) 3.3.3) beschrieben werden. Andererseits k\u00f6nnen die einzelnen Ablieferungen mit dem Formular-Modul Ablieferung dokumentiert werden (pro Ablieferung wird ein Eintrag mit Datum, abliefernder Stelle und Kommentar angelegt und im Bestandseintrag angezeigt).</p>"},{"location":"faq/export/","title":"Export","text":""},{"location":"faq/export/#ead","title":"EAD","text":"<p>Der Datenexport nach EAD (Encoding Archival Description) ist auf die Anforderungen des europ\u00e4ischen Archivportals ausgerichtet. </p>"},{"location":"faq/export/#tei","title":"TEI","text":"<p>Die Deskriptoren (Akteure, Orte, Sachschlagworte) k\u00f6nnen als TEI (Text Encoding Inititive) exportiert werden. Anton kann als Register-Datenbank f\u00fcr TEI Editionen ausserdem per REST-API angebunden werden. Aus den Eintr\u00e4gen zu den Objekten kann ein TEI Header erzeugt werden. Dies kann mit einer kundenspezifischen Klasse implementiert werden, so dass der TEI Header den Anforderungen entspricht.</p>"},{"location":"faq/export/#sql-dump","title":"SQL-Dump","text":"<p>F\u00fcr admins gibt es die M\u00f6glichkeit, jederzeit einen vollen Datenbank-Dump zu erzeugen und herunterzuladen. </p>"},{"location":"faq/export/#word-findbucher","title":"Word Findb\u00fccher","text":"<p>Von einzelnen Best\u00e4nden k\u00f6nnen klassische Findb\u00fccher im Wordformat erzeugt werden. Weitergehende Anpassungen sind ebenfalls m\u00f6glich.</p>"},{"location":"faq/import/","title":"Import","text":""},{"location":"faq/import/#migration-aus-einer-anderen-datenbank","title":"Migration aus einer anderen Datenbank","text":"<p>Die Migration von einer Datenbank in eine neue Datenbank ist immer ein relativ grosser Aufwand. Die Daten m\u00fcssen gemappt werden, teilweise vor- und/oder nachbereitet und allenfalls korrigiert werden. Gleichzeitig macht eine Migration Schwachstellen in den Daten sichtbar und die Daten werden homogenisiert. Insofern bietet eine Datenbankmigration die Chance, die Qualit\u00e4t der Daten zu verbessern. </p> <p>Welche Migrationsstrategie am besten geignet ist, mus fallweise entschieden werden. Folgende M\u00f6glichkeiten haben wir mit Anton erfolgreich durchgef\u00fchrt:</p> <ol> <li>Export der alten Datenbank in Excel-Dateien \u2013 Excel-Import in Anton  </li> <li>Export der alten Datenbank in EAD-Dateien \u2013 EAD-Import in Anton  </li> <li>Direkte \u00dcbernahme der Daten aus der alten Datenbank </li> </ol> <p>F\u00fcr die Methoden 2 und 3 sind Skripte zu programmieren und/oder anzupassen. </p>"},{"location":"faq/import/#import-aus-excel","title":"Import aus Excel","text":"<p>Anton verf\u00fcgt \u00fcber einen elaborierten, gut dokumentierten Excel-Import. Gr\u00f6ssere Erschliessungsarbeiten auf derselben Verzeichnungsstufe werden ebenfalls h\u00e4ufig in Excel durchgef\u00fchrt. Anschliessend wird das Excel-File validiert und die Daten in Anton importiert. </p> <p>Mit dem Excel-Import k\u00f6nnen auch digitale Objekte (Fotos, Dokumente etc.) importiert werden.</p>"},{"location":"faq/infrastructure/","title":"Anton Server Infrastruktur Diagramm","text":"<pre><code>---\nconfig:\n  theme: redux\n  layout: elk\n---\nflowchart TB\n    subgraph prod[\" \"]\n        U[\"ANTON-SERVER\"]\n        UB[Verschl\u00fcsseltes lokales Backup]\n    end\n\n    A[Backup-Server 1]\n    L[Backup-Server 2]\n    G[Monitoring]\n    E[Email Fehlermeldungen]\n    %% Backup-Verbindungen\n    U --&gt; UB\n    UB --&gt;|PULL| A\n    UB --&gt;|PULL| L\n\n    %% \u00dcberwachung\n    G -.-&gt; U\n    G -.-&gt; A\n    G -.-&gt; L\n    G --&gt; E\n\n    %% Styling\n    classDef production fill:#e1f5fe,stroke:#01579b,stroke-width:3px\n    classDef backup fill:#fff3e0,stroke:#e65100,stroke-width:2px\n    classDef monitoring fill:#f3e5f5,stroke:#4a148c,stroke-width:2px\n    classDef notification fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px\n    classDef main fill:#e1f5fe,stroke:#01579b,stroke-width:4px,font-size:16px,font-weight:bold\n\n    class UB production\n    class A,L backup\n    class G monitoring\n    class E notification\n    class U main\n</code></pre>"},{"location":"faq/infrastructure/#sicherheitsmerkmale","title":"Sicherheitsmerkmale","text":"<ul> <li>Lokale Datenspeicherung: Alle Daten werden in der Schweiz gespeichert</li> <li>Mehrstufige Backups: <ul> <li>St\u00fcndliche Metadaten-Backups (Gesch\u00e4ftszeiten)</li> <li>T\u00e4gliche Vollbackups (Metadaten + Digitalisate)</li> </ul> </li> <li>Geografische Verteilung: Backup-Server an verschiedenen Standorten in der Schweiz</li> <li>Verschl\u00fcsselung: Alle Backups verschl\u00fcsselt gespeichert und \u00fcbertragen</li> <li>Pull-basierte Backups: Backup-Server holen Daten ab (kein Push)<ul> <li>Schutz vor Kompromittierung des Produktionsservers</li> </ul> </li> <li>Kontinuierliche \u00dcberwachung: Separater \u00dcberwachungsserver </li> <li>Proaktive Benachrichtigung: Email-Alerts bei Problemen</li> </ul>"},{"location":"faq/installationen/","title":"\u00d6ffentliche Anton-Installationen","text":"<ul> <li>Konzernarchiv der Georg Fischer AG </li> <li>Gosteli-Stiftung. Archiv zur Geschichte der schweizerischen Frauenbewegung</li> <li>Klosterarchiv Einsiedeln</li> <li>Archiv der Familie Besenval</li> <li>Bestandsverzeichnis des Schweizerischen Kunstarchivs</li> <li>Karl Barth-Archiv</li> <li>Archiv der Riehener Zeitung</li> <li>Bahnarchiv (Archiv der Schweizerischen Gesellschaft f\u00fcr Eisenbahngeschichte SGEG)</li> <li>Archiv Ortsgeschichte Maur</li> <li>Archiv f\u00fcr Schweizer Landschaftsarchitektur</li> <li>Archiv des Instituts f\u00fcr Medizingeschichte der Universit\u00e4t Bern</li> <li>Vitroarchives</li> <li>Archiv Visarte Schweiz</li> </ul>"},{"location":"faq/recherche/","title":"Recherche und Benutzung","text":""},{"location":"faq/recherche/#web-recherche-fur-die-kundschaft","title":"Web-Recherche f\u00fcr die Kundschaft","text":"<p>Anton zeigt standardm\u00e4ssig ein einfaches Suchformular auf der Startseite an. Ausserdem gibt es eine \u00abErweiterte Suche\u00bb bei der verschiedene Kriterien kombiniert werden k\u00f6nnen.</p>"},{"location":"faq/recherche/#anzeige-der-archivtektonik","title":"Anzeige der Archivtektonik","text":"<p>Von jedem Datensatz aus kann \u00fcber die Anzeige des \u00abPfads\u00bb zu jedem \u00abVorfahren\u00bb als auch zu s\u00e4mtlichen Kinder, die unterhalb der Detailanzeige aufgelistet werden, weiternavigiert werden.</p> <p>Anton verf\u00fcgt zurzeit nicht \u00fcber eine Baumdarstellung des gesamten Archivs. Gleichwohl wird der archivische Kontext in Anton dargestellt und es l\u00e4sst sich durch die Tektonik browsen. Die Programmierung einer Baumdarstellung ist grunds\u00e4tzlich machbar. Die Erfahrung zeigt, dass diese Darstellungsweise vor allem von Archivprofis gew\u00fcnscht wird, w\u00e4hrend normale Benutzer diese Darstellungsform nicht vermissen.</p>"},{"location":"faq/recherche/#recherche-nach-einzelnen-datenelementen-und-volltextsuche","title":"Recherche nach einzelnen Datenelementen und Volltextsuche","text":"<p>Die Recherche nach einzelnen Datenelementen ist m\u00f6glich. Ebenfalls gibt es eine Volltextsuche, die auch eingebundene PDFs durchsucht, soweit diese eingebetteten Text enthalten (z.B. per OCR).</p>"},{"location":"faq/recherche/#einschrankung-recherche-auf-einzelne-bestandesgruppen-oder-bestande","title":"Einschr\u00e4nkung Recherche auf einzelne Bestandesgruppen oder Best\u00e4nde","text":"<p>Die Einschr\u00e4nkungen auf einzelne Bestandsgruppen ode Best\u00e4nde ist m\u00f6glich. </p>"},{"location":"faq/recherche/#warenkorb","title":"Warenkorb","text":"<p>Es gibt einen einfachen Warenkorb. Die Bestellung erfolgt per Email an das Archiv.</p>"},{"location":"faq/recherche/#ausleihen","title":"Ausleihen","text":"<p>Ausleihen k\u00f6nnen ebenfalls verwaltet werden. Die Leihnehmer m\u00fcssen eingeschriebene Nutzer:innen sein. </p>"},{"location":"user/","title":"Index","text":""},{"location":"user/#benutzer-dokumentation","title":"Benutzer - Dokumentation","text":""},{"location":"user/access/","title":"Access-Konzept","text":""},{"location":"user/access/#benutzergruppen","title":"Benutzergruppen","text":"<p>Es gibt verschieden Benutzergruppen mit unterschiedlichen Berechtigungen:</p> <ul> <li>nicht eingeschriebene User (<code>guest</code>)</li> <li>eingeschriebene User (<code>user</code>)</li> <li>eingeschriebene UserIntern (<code>userIntern</code>)</li> <li>Ausleihe-Verwalter:in (<code>loan_admin</code>)</li> <li>Bearbeiter:in (<code>editor</code>)</li> <li>Administrator:in (<code>admin</code>)</li> </ul> <p>Admins k\u00f6nnen Benutzer:innen verwalten und ihre Rolle \u00e4ndern.</p>"},{"location":"user/access/#settings","title":"Settings","text":"<p>In den Voreinstellungen kann angegeben werden, ob das gesamte Archiv \u00f6ffentlich oder nicht \u00f6ffentlich zug\u00e4nglich sein soll (public_access). Ist diese Einstellung auf 0 gesetzt, so ist die Datenbank nur f\u00fcr eingeschriebene User, Editoren und Admins zug\u00e4nglich.</p> <p>Ist diese Einstellung auf 1 gesetzt handelt es sich um eine grunds\u00e4tzlich \u00f6ffentlich zug\u00e4ngliche Anton-Datenbank.</p>"},{"location":"user/access/#feld-zugangsbestimmungen-sperrfrist","title":"Feld Zugangsbestimmungen / Sperrfrist","text":"<p>Unterliegt ein Objekt noch einer Sperrfrist, kann zwar der Datensatz aufgerufen werden, nicht aber die Bilder und Dokumente.</p> <p>Mit dem Feld \u00abSchutzfrist bis\u00bb kann die Sperrfrist manuell eingegeben werden. Dieser Wert hat Priorit\u00e4t und vererbt sich im Archivbaum an alle Verzeichnungseinheiten unterhalb, sofern es dort nicht bereits sch\u00e4rfere Fristen gibt. </p> <p>Wird das Feld \u00abSchutzfrist bis\u00bb nicht verwendet, greifen die Sperrfristen: Diese sind in den Voreinstellungen (<code>period_of_protection_values</code>) ersichtlich und k\u00f6nnen durch k &amp; r angepasst werden. Es gibt drei Stufen: \u00f6ffentlich, standard und verl\u00e4ngerte Sperrfrist. Es ist m\u00f6glich weitere Werte zu verwenden und zu hinterlegen.</p> <p>Die Schutzfristen sollten wie folgt funktionieren:</p> <ol> <li>Freigabejahr: Dieses Feld hat Priorit\u00e4t und wird nach unten vererbt.  </li> <li>Wenn eine Schutzfrist im Freigabejahr steht (original oder vererbt) wird diese verwendet.  </li> <li>Wenn kein Freigabejahr angegeben ist gelten die Schutzfristen wie gehabt. Diese werden nicht vererbt!  </li> </ol> <p>F\u00fcr die Anzeige wird alles miteinander verrechnet. </p>"},{"location":"user/access/#nur-medien-unbefristet-sperren","title":"Nur Medien unbefristet sperren","text":"<p>Im Editformular k\u00f6nnen hochgeladene Medien unbefristet gesperrt werden.</p>"},{"location":"user/access/#objekte-unbefristet-sperren","title":"Objekte unbefristet sperren","text":"<p>Wenn das Feld auf 1 gesetzt wurde, sind der Datensatz, s\u00e4mtliche Kinder und die dazugeh\u00f6rigen Medien nur f\u00fcr UserIntern, Editoren und Admins zug\u00e4nglich.</p> <p>Einzelnen Usern (<code>user</code>) kann der Zugang zu bestimmten Bereichen der Datenbank erm\u00f6glicht werden, indem bei ihnen IDs freigegeben werden. Dies geschieht \u00fcber die Benutzerinnen/Benutzerverwaltung. Dabei sind die IDs der Datens\u00e4tze als kommaseparierte Liste einzugeben. Eine ID steht dabei immer f\u00fcr den gesamten Zweig des Erschliessungsbaums.</p>"},{"location":"user/access/#feld-status-der-beschreibung","title":"Feld Status der Beschreibung","text":"<p>Das Feld ist f\u00fcr Best\u00e4nde gedacht. Wenn der Bestand auf \"Entwurf\" gesetzt wird, ist der Bestand nur f\u00fcr UserIntern, Editoren und Admins zug\u00e4nglich.</p>"},{"location":"user/actors/","title":"Actors","text":""},{"location":"user/actors/#akteure","title":"Akteure","text":"<p>Akteure (Personen, Organisation etc.) werden als eigene Entit\u00e4ten gespeichert und beschrieben.</p> <p>Akteure k\u00f6nnen sowohl f\u00fcr die inhaltliche Beschreibung mit Verzeichnungseinheiten verkn\u00fcpft werden (Verwendung als Schlagwort) als auch f\u00fcr die Erfassung des Kontexts (vgl. Antonevents). </p>"},{"location":"user/antonevents/","title":"Antonevents","text":""},{"location":"user/antonevents/#antonevents","title":"Antonevents","text":"<pre><code>flowchart TD\n    VE[Verzeichnungseinheit]\n    AE[Antonevent]\n    ET[Ereignistyp]\n    DT[Datum]  \n    AC[Actor]\n    PL[Place]\n\n    VE -.-&gt;|hat| AE\n    AE --&gt; ET\n    AE --&gt; DT\n    AE -.-&gt; AC\n    AE -.-&gt; PL\n\n    %% Styling\n    classDef verzeichnung fill:#ffddaa,stroke:#133253,stroke-width:4px\n    classDef antonevent fill:#e1f5fe,stroke:#01579b,stroke-width:3px\n    classDef core fill:#c8e6c9,stroke:#1b5e20,stroke-width:2px\n    classDef entity fill:#f3e5f5,stroke:#4a148c,stroke-width:2px\n\n    class VE verzeichnung\n    class AE antonevent\n    class ET,DT core\n    class AC,PL entity\n</code></pre> <p>Mit dem Antonevent werden die Entit\u00e4ten Actor und Place mit den Verzeichnungseinheiten verkn\u00fcpft. Antonevents enthalten folgende Felder:</p> <ul> <li>Ereignistyp</li> <li>Datum von  </li> <li>Datum von ca.  </li> <li>Datum bis  </li> <li>Datum bis ca.  </li> <li>Akteur*in  </li> <li>Ort  </li> <li>Beschreibung/Kommentar  </li> </ul> <p>Minimales Antonevent</p> <p>Ein Antonvevent enth\u00e4lt mindestens entweder einen Actor oder ein Datum.</p> <p>Datum</p> <p>Es sollte immmer Von- und Bis-Datum ausgef\u00fcllt werden. F\u00fcr die Angabe eines Zeitpunkt sind Von- und Bis-Datum identisch.</p>"},{"location":"user/antonevents/#ereignistyp-creation-laufzeiterstellung","title":"Ereignistyp: Creation (Laufzeit/Erstellung)","text":"<p>Ein zentraler Ereignistyp ist die Erstellung. Das Erstelldatum ist Grundlage f\u00fcr die Errechnung der Sperrfristen. Ausserdem wird das Erstelldatum automatisch in der Archivtektonik nach oben verrechnet, so dass \u00fcbergeordnete Verzeichnungseinheiten automatisch das Minimum und Maximum aller Erstelldaten der Nachkommen anzeigen.</p> <p>TIPP: Verwendung des Erstelldatum</p> <p>Jede Verzeichnungseinheit ohne Kinder sollte mit einem Erstelldatum erschlossen werden. Um Widerspr\u00fcche zu vermeiden nur Verzeichnungseinheiten ohne Kinder mit einem Erstelldatum erschlossen werden.</p>"},{"location":"user/forms/","title":"Forms","text":"<p>Die Ansicht auf die Daten wird \u00fcber Formulare gesteuert. F\u00fcr Datens\u00e4tze gibt es in der Regel mehrere Formulare:</p> <ul> <li>detail, detail_intern</li> <li>edit</li> <li>create</li> <li>list</li> <li>list_intern ...</li> </ul> <p>F\u00fcr die Verzeichnungseinheiten wird \u00fcber die Verzeichnisstufe ein Formular zum Edieren automatisch ausgew\u00e4hlt. F\u00fcr die Datenansicht gibt es zwei Formulare detail und detail_intern. Es werden den Benutzer:innen nur die Felder angezeigt, die sowohl ein Feld im Formlar haben also auch Daten beinhalten.</p> <p>Die Ansicht der Listen ist zurzeit nur sehr eingeschr\u00e4nkt konfigurierbar, weil dort in der Regel spezielle Module verwendet werden, die verschiedene Informationen in eine Spalte zusammenziehen.</p>"},{"location":"user/forms/#formulare-andern","title":"Formulare \u00e4ndern","text":"<p>Die einzelnen Formulare k\u00f6nnen in Admin / Formulare definiert werden.</p>"},{"location":"user/identifiers/","title":"Signaturen","text":"<p>Anton erstellt automatisch Signaturen. Mit dem Setting <code>no_automatic_identifiers</code> kann diese Funktion deaktiviert werden. Bei Bedarf kann eine kundenspezifische Signaturgenerierung entwickelt und eingebaut werden. Hier wird die Standardfunktion beschrieben.</p>"},{"location":"user/identifiers/#verzeichnungsstufen","title":"Verzeichnungsstufen","text":"<p>Anton unterst\u00fctzt standardm\u00e4ssig folgende Verzeichnungsstufen:</p> Verzeichnungsstufe Signaturbeispiel Beschreibung kann enthalten Archiv KRA Umfasssende Einheit einer Institution. Hat keine \u00fcbergeordnete Verzeichnubgseinheit. Bestandsgruppe, Bestand Bestandsgruppe nicht signaturrelevant<sup>*</sup> Es k\u00f6nnen Best\u00e4nde logisch geordnet werden. Bestandsgruppe, Bestand Bestand KRA 3 Einheit einer Provenienz oder Ablieferung. Best\u00e4nde werden pro Archiv durchnummeriert. Klasse, Dossier, Einzelst\u00fcck Klasse nicht signaturrelevant Es k\u00f6nnen Dossiers logisch geordnet werden. Klasse, Serie, Dossier, Einzelst\u00fcck Serie KRA 3/22 Verh\u00e4lt sich bzgl. Signaturen wie ein Dossier Serie, Dossier, Einzelst\u00fcck Dossier KRA 3/22 Standard-Verzeichnungseinheit. Akte, Amtsb\u00fccher o.\u00e4. werden auf Stufe Dossier verzeichnet. Dossiers werden pro Bestand durchnummeriert. Dossier, Einzelst\u00fcck Einzelst\u00fcck KRA 3/22.1 Unterste Verzeichnungsstufe f\u00fcr z.B. Fotografien, einzelne Schriftst\u00fccke. <p><sup>*</sup> Mit dem Setting <code>recordgroups_for_identifier_base</code> kann die Bestandsgruppe als Ausgangspunkt Basissignaturen gemacht werden. Mit dem Setting <code>identifier_generator</code> kann die automatische Signaturbildung vollst\u00e4ndig individuell implementiert werden.</p> <p>Bestandsgruppen, Klassen, Serien, Dossiers und Einzelst\u00fccke k\u00f6nnen sich selbst enthalten (z.B. Teil-Dossiers).</p>"},{"location":"user/identifiers/#signaturschema","title":"Signaturschema","text":"<p>Die Signatur setzt sich zusammen aus dem Archivk\u00fcrzel, der Bestandsnummer und den Dossier- und Einzelst\u00fccknummern.</p> <pre><code>Archivk\u00fcrzel Bestandsnummer/Dossiernummer.Einzelst\u00fccknummer\n</code></pre> <p>Dossiernummer und Einzelst\u00fccknummer k\u00f6nnen weiter verschachtelt werden. Jede weitere Stufe wird mit einem Punkt getrennt.</p>"},{"location":"user/identifiers/#beispiele","title":"Beispiele","text":"<p>KRA, 22/1.5     (Archiv KRA;  Bestand 22; Serie oder Dossier 1; Teildossier oder Einzelst\u00fcck 5)</p> <p>Test, 1/1       (Archiv Test; Bestand  1; Serie, Dossier oder Einzelst\u00fcck 1)</p> <p>HDR, 25/4.7.5   (Archiv HDR;  Bestand 25; Serie oder Dossier 4; Serie oder (Teil-)dossier 7; Teildossier oder Einzelst\u00fcck 5)</p>"},{"location":"user/import/","title":"Datenimport","text":""},{"location":"user/import/#zusammenfassung","title":"Zusammenfassung","text":"<p>Es ist m\u00f6glich, Daten und dazugeh\u00f6rige Dateien (media) in Anton zu importieren. Die Erschliessungsdaten (Excel-File) werden in einem (vorgegeben) Excelsheet erfasst und mit den Dateien auf den Server geladen. Danach werden die Daten validiert und falls die Validierung erfolgreich war, kann der Import/Ingest erfolgen (Erschliessungsdaten und media). Vgl. auch die Dokumentation in Anton <code>/import/documentation</code>.</p>"},{"location":"user/import/#ablauf","title":"Ablauf","text":"<p>Zun\u00e4chst ist ein Excel-File nach den folgenden Massgaben zu erstellen. Dieses ist unter \"Upload Metadata\" hochzuladen und dazugeh\u00f6rige Mediendateien sind unter \"Upload Medien\" hochzuladen. Abschliessend kann das Excel-File unter \"Validation\" \u00fcberpr\u00fcft werden. Die Validierung zeigt Fehler an und gibt Warnugen aus. Importieren kann man die Daten erst, wenn die Validierung fehlerfrei ist. Der Import wird unter \"Ingest\" ausgel\u00f6st und kann je nach Umfang einige Minuten dauern.</p>"},{"location":"user/import/#spalten","title":"Spalten","text":"<p>Das File darf zus\u00e4tzliche Spalten enthalten; diese werden jedoch nicht importiert. Zur Vereinfachung d\u00fcrfen Spalten gel\u00f6scht werden. Das endg\u00fcltige File muss mindestens folgende Spalten enthalten:</p> <pre><code>parent\nverzeichnungsstufe\n</code></pre>"},{"location":"user/import/#erlauterung-und-regeln-fur-die-einzelnen-spaltenfelder","title":"Erl\u00e4uterung und Regeln f\u00fcr die einzelnen Spalten/Felder","text":""},{"location":"user/import/#parent","title":"parent","text":"<p>Das Feld <code>parent</code> gibt an, wo der zu importierende Datensatz angeh\u00e4ngt wird. Das Feld darf nicht leer sein. Es darf h\u00f6chstens 100 Zeichen enthalten. Es muss eine Signatur enthalten, die es bereits in der Datenbank gibt.</p> <p>Da es in Anton Verzeichnungseinheiten ohne Signatur geben kann (z.B. Klassen, Bestandsgruppen), ist es auch m\u00f6glich den <code>parent</code> \u00fcber die <code>id</code> anzugeben. Wenn im <code>parent</code> eine ganze Zahl (integer) steht, geht der Importer davon aus, dass die <code>parent_id</code> gemein ist. Die <code>id</code> einer Verzeichnungseinheit ist aus dem <code>permalink</code> ersichtlich.</p>"},{"location":"user/import/#verzeichnungsstufe-level_of_description","title":"Verzeichnungsstufe (level_of_description)","text":"<p>Das Feld darf nicht leer sein. Es muss eine existierende Verzeichnungsstufe enthalten:</p> <pre><code>Archiv\nBestandsgruppe\nBestand\nKlasse\nSerie\nDossier\nEinzelst\u00fcck\n</code></pre>"},{"location":"user/import/#signatur-identifier","title":"signatur (identifier)","text":"<p>Das Feld darf h\u00f6chstens 100 Zeichen enthalten. Jede Signatur darf nur einmal vorkommen. Ist keine Signatur angegeben, wird eine neue, eindeutige Signatur von Anton erzeugt.</p>"},{"location":"user/import/#altsignatur-identifier_old","title":"altsignatur (identifier_old)","text":"<p>Das Feld darf h\u00f6chstens 100 Zeichen enthalten.</p>"},{"location":"user/import/#titel-title","title":"titel (title)","text":"<p>Das Feld kann freien Text enthalten.</p> <p>Achtung</p> <p>Der Import mehrsprachiger Titel ist zurzeit nicht m\u00f6glich.</p>"},{"location":"user/import/#antonevents","title":"Antonevents","text":"<p>Antonevents verkn\u00fcpfen die Verzeichnungseinheiten mit den Akteuren und den Orten. Sie bestehen aus folgenden Feldern: <code>actors, place, date_start, date_start_ca, date_end, date_end_ca, date_event_details</code>. Um ein Antonevent zu importieren muss nun der EventType in der Spaltenbezeichnung vor den Feldnamen gesetzt werden, z.B. f\u00fcr die Erstellung (Laufzeit):  <code>creation_actors, creation_place, creation_date_start, creation_date_start_ca, creation_date_end, creation_date_end_ca, creation_date_event_details</code>.</p> <p>Es gibt zahlreiche Antonevents: <code>creation</code>, <code>acquisition</code>, <code>accumulation</code>, <code>destruction</code>, <code>validation</code>, <code>migration</code>, <code>reproduction</code>, <code>publication</code>, <code>digitisation</code>, <code>ingest</code>, <code>reception</code>, <code>performance</code>, <code>provenance</code>, <code>loaned</code>, <code>preservation</code>, <code>engravation</code>, <code>writing</code>, <code>coloring</code>, <code>edition</code>, <code>production</code>, <code>other</code>, <code>text_author</code>. </p>"},{"location":"user/import/#akteure-zb-creation_actors","title":"Akteure (z.B. creation_actors)","text":"<p>Das Feld darf h\u00f6chstens 500 Zeichen enthalten. Die Angabe des Existenzzeitraums (Lebensdaten) in Klammern ist nicht obligatorisch, aber m\u00f6glich. Runde Klammer d\u00fcrfen aber nicht zu anderen Zwecken verwendet werden. Mehrere Akteure sollten mit <code>::</code> getrennt werden.</p> <p>Beispiel f\u00fcr zwei Akteure: </p> <pre><code>M\u00fcller, Martina (1934-1977) :: Rechtsabteilung\n</code></pre> <p>Das Format wird nicht vorab validiert! Akteur:innen werden neu angelegt, wenn sie in Anton nicht gefunden werden (gesucht wird nach dem Namen).</p> <p>Import-Einstellung <code>create-actors</code>: Akteur:innen werden neu angelegt, wenn sie in Anton nicht gefunden werden.</p> <p>Wenn ein Akteur bereits in Anton erfasst ist, kann er auch \u00fcber seine ID (integer) referenziert werden.</p> <p>Wurde ein Akteur mit einer GND oder einer anderen Ressource erfasst, kann sie auch anhand dieser Ressource erkannt werden, in dem die Angabe mit einem Prefix versehen wird (kleingeschrieben und mit Doppelpunt ohne Leerzeichen): \"gnd:118519522\" (die Ressource muss innerhalb von Anton allerdings eindeutig sein). Gibt es den Akteur noch nicht, wird er anhand der Angaben der GND neu angelegt.</p>"},{"location":"user/import/#places","title":"Places","text":"<p>Das Feld kann einen Ort oder eine places-id (integer) enthalten. Import-Einstellung <code>create-places</code>: Orte werden neu angelegt, wenn sie in Anton nicht gefunden werden. Wenn ein Ort bereits in Anton erfasst ist, kann er auch \u00fcber seine ID (integer) referenziert werden.</p> <p>Orte k\u00f6nnen folgende Elemente enthalten: - Namen (wird durch \"/\" abgetrennt) - Stadt/Gemeinde - Kanton/Bundesland (wird in Klammern hinter der Gemeinde gesetzt)</p>"},{"location":"user/import/#objekttyp-object_type","title":"objekttyp (object_type)","text":"<p>Das Feld muss einen bereits existierenden Objekttyp enthalten:</p> <pre><code>Akte\nBild\nBand\nFilm\n...\n</code></pre> <p>Die Liste der erlaubten Werte ist abh\u00e4ngig von den Objekttypen, die das jeweilige Archiv definiert hat.</p>"},{"location":"user/import/#umfang_zahl-object_count","title":"umfang_zahl (object_count)","text":"<p>Das Feld muss eine ganze Zahl (integer) enthalten. Die Angabe bezieht sich auf den Objekttyp.</p>"},{"location":"user/import/#sprache-languages","title":"sprache (languages)","text":"<p>Das Feld kann mehrere Sprachen enthalten. Die Sprachen m\u00fcssen entweder dem ISO-639-2/B Sprachcode entsprechen (\"ger\" nicht \"deu\", \"fre\" nicht \"fra\") oder exakt wie in der vorhandenen Liste geschrieben sein. Mehrere Sprachen werden k\u00f6nnen mit folgenden Zeichen getrennt (Komma und Strichpunkt sind nicht m\u00f6glich):</p> <pre><code>    ::\n</code></pre>"},{"location":"user/import/#standort-location","title":"standort (location)","text":"<p>Das Feld muss einen bereits verwendeten Standort enthalten. Wenn ein neuer Standort verwendet werden soll, erst in Admin-Standorte hinzuf\u00fcgen.</p>"},{"location":"user/import/#vacat","title":"vacat","text":"<p>Das Feld darf nur 0 (nein) oder 1 (ja) enthalten. Enth\u00e4lt vacat keinen Wert, wird 0 gesetzt.</p>"},{"location":"user/import/#bilder-media","title":"bilder (media)","text":"<p>Das Feld darf h\u00f6chstens 500 Zeichen enthalten. Mehrere Dateinamen (assets) k\u00f6nnen mit folgenden Zeichen getrennt werden:</p> <pre><code>, ; ::\n</code></pre> <p>Beispiel:</p> <pre><code>erstes_bild.tif::zweites_bild.tif\n</code></pre>"},{"location":"user/import/#schutzfrist-period_of_protection","title":"schutzfrist (period_of_protection)","text":"<p>Das Feld muss eine existierende Schutzfrist enthalten:</p> <pre><code>public\nstandard\nprolonged\n</code></pre>"},{"location":"user/import/#private","title":"private","text":"<p>Das Feld darf nur 0 (nein) oder 1 (ja) enthalten. Enth\u00e4lt private keinen Wert, wird 0 gesetzt.</p>"},{"location":"user/import/#status_of_description","title":"status_of_description","text":"<p>Das Feld darf nur Namen der entsprechenden Werteliste enthalten:</p> <pre><code>draft\nfinal\n</code></pre>"},{"location":"user/import/#detail_of_description","title":"detail_of_description","text":"<p>Das Feld darf nur Namen der entsprechenden Werteliste enthalten::</p> <pre><code>minimal\npartial\nfull\n</code></pre>"},{"location":"user/import/#weitere-felder","title":"Weitere Felder","text":"<p>Die weiteren Felder sind freie Textfelder::</p> <pre><code>Neuzug\u00e4nge (note.accruals)\nBewertung und Kassation (note.appraisal)\nInformationen des Bearbeiters (note.archivists_notes)\nOrdnung und Klassifikation (note.arrangement)\nVerwaltungsgeschichte / Biographie (note.bioghist)\nZugangsbedingungen (note.condition_of_access)\nReproduktionsbestimmungen (note.condition_of_reproduction)\nBestandsgeschichte (note.custod_hist)\nKommentar zur Datierung (note.date_comment)\nUmfang (Beschreibung) (note.extent_text)\nFindmittel (note.finding_aids)\nAllgemeine Anmerkungen (note.general_note)\nArchivinterne Bemerkungen (note.internal_note)\nSprache/Schrift (note.language_script)\nStandort (Detail) (note.location_details)\nPhysische Beschaffenheit und technische Anforderungen (note.physical_description)\nProvenienz (note.provenance)\nPublikationen (note.publications)\nVerwandte Verzeichnungseinheiten (note.related_units)\nKopien/Reproduktionen (note.reproductions)\nVerzeichnungsgrunds\u00e4tze (note.rules_note)\nForm und Inhalt (note.scopecontent)\n</code></pre>"},{"location":"user/import/#import-uber-die-kommandozeile","title":"Import \u00fcber die Kommandozeile","text":""},{"location":"user/import/#einfacher-import","title":"Einfacher Import","text":"<p>F\u00fcr den Customer (slug) \"besenval\" und das Excelfile \"test.xlsx\" lautet der Import Befehl:</p> <p>.. code:: bash</p> <pre><code>php artisan anton:import --env=besenval --file=\"test.xlsx\" --import\n</code></pre> <p>Dabei wird davon ausgegangen, dass <code>test.xlsx</code> im Ordner <code>custumers/besenval/metadata_to_import/</code> liegt. Mit zu importierende Dateien (Medien) m\u00fcssen sich im Ornder <code>customers/besenval/assets_to_import/</code> befinden.</p> <p>Ohne die Option <code>--import</code> wird das file nur validiert.</p>"},{"location":"user/import/#optionen","title":"Optionen","text":"<p>Der Befehl <code>anton:import</code> bietet einige Optionen, die f\u00fcr spezifische Situationen n\u00fctzlich sein k\u00f6nnen.</p> Option Beschreibung --no-backup dont backup the database before import\u00a0 --import really start import --update only update antonobjects (identifier is required) --dont-validate do not validate the file --skip-parent-validation to build hierarchies with one excel file --create-actors create new actors if they dont exist --create-keywords create new keywords if they dont exist --create-places create new places if they dont exist --show-rules showe rules for this file --show-columns showe the original columns of this file --show-column-mapping show columns with mapping --show-possible-columns show all pssible column names --show-mapping show mapping for this file --show-separators show separators --from-ead import file is a xml-ead file (also use --parent and --dont-validate) --parent= if import file is an ead you need a parent <p>Beispiel <pre><code>php artisan anton:import customers/kr/ead/test_2-ead.xml --from-ead --dont-validate --create-actors --create-places --create-keywords --parent=1 --env=kr -vv --import --no-backup\n</code></pre></p>"},{"location":"user/keywords/","title":"Keywords","text":""},{"location":"user/keywords/#schlagworter","title":"Schlagw\u00f6rter","text":"<p>Anton bietet die M\u00f6glichkeit Verzeichnungseinheiten zu verschlagworten. </p> <ul> <li>Felder: Typ, Label, Beschreibung, Quellen, Kommentar </li> <li>Schlagworte k\u00f6nnen mit externen Resourcen verlinkt werden </li> </ul>"},{"location":"user/loans/","title":"Ausleihe von Objekten","text":""},{"location":"user/loans/#ausleihe-von-objekten","title":"Ausleihe von Objekten","text":""},{"location":"user/loans/#objekte-ausleihen","title":"Objekte ausleihen","text":"<p>Um Ausleihen beim Objekt sehen und ein Objekt als geliehen markieren zu k\u00f6nnen, muss das Feld Ausleihe (id: 47) im verwendeten Formular sein. </p> <p>Nach dem Klick auf das Plus kann eine Ausleihe an einen User eingetragen werden. Bei der Ausleihe wird dieser mit dem Objekt verkn\u00fcpft. Dazu l\u00e4sst wird der Tag der Ausleihe eingetragen. In einem Kommentar k\u00f6nnen weitere Angaben festgehalten werden (Zweck der Ausleihe, voraussichtliches R\u00fcckgabedatum). </p>"},{"location":"user/loans/#ruckgabe-von-objekten","title":"R\u00fcckgabe von Objekten","text":"<p>Erst bei der R\u00fcckgabe wird das Bis-Datum ausgef\u00fcllt. Damit ist die Ausleihe abgeschlossen.</p>"},{"location":"user/loans/#liste-offener-ausleihen","title":"Liste Offener Ausleihen","text":"<p>Im Admin Bereich gibt es eine Liste der offenen Ausleihen (<code>/loans</code>), also der Ausleihen die kein R\u00fcckgabedatum besitzen. Von dort kann einerseits auf die User gesprungen werden, um etwa Ausleihen eines Users als zur\u00fcckgegeben einzutragen oder auf die ausgeliehenen Objekte. </p>"},{"location":"user/loans/#anzeige-bei-den-einzelnen-usern","title":"Anzeige bei den einzelnen Usern","text":"<p>Bei den einzelnen Usern (<code>/users/{user_id}</code>) werden die Ausleihen in einer Tabelle angezeigt.</p>"},{"location":"user/loans/#rollen","title":"Rollen","text":"<p>Ausleihen k\u00f6nnen von <code>editor</code>, <code>admin</code> und <code>loan_admin</code> verwaltet werden.</p>"},{"location":"user/markdown/","title":"Markdown","text":"<p>In Anton lassen sich die Texte in den Textfeldern mit der Auszeichnungssprache Markdown formatieren. Markdown ist einfach und schnell zu erlernen. Ausserdem bleiben die Textdaten relativ sauber, weil nur sehr wenige zus\u00e4tzliche Zeichen und Konventionen die Formatierungen erm\u00f6glichen. </p> <p>[ Ausf\u00fchrliche Informationen ]</p> <p>Die wichtigsten Formatierungsm\u00f6glichkeiten in Anton:</p>"},{"location":"user/markdown/#neue-zeilen-neue-absatze","title":"Neue Zeilen, neue Abs\u00e4tze","text":"<p>Neue Zeilen werden mit zwei Leerzeichen am Ende einer Linie angezeigt. </p> <p>Neue Abs\u00e4tze durch eine Leerzeile.</p>"},{"location":"user/markdown/#titel","title":"Titel","text":"<p>Titel k\u00f6nnen mit <code>#</code> am Zeilenbeginn erstellt werden, wobei ein <code>#</code> und ein folgendes Leerzeichen einen Titel der ersten Ebene, zwei <code>##</code> und ein folgendes Leerzeichen einen Titel der zweiten Ebene markiert, usw.:</p> <p><pre><code># Titel Ebene 1\n## Titel Ebene 2\n</code></pre> Ergibt: </p> Titel Ebene 1 Titel Ebene 2"},{"location":"user/markdown/#aufzahlungen","title":"Aufz\u00e4hlungen","text":"<p>Aufz\u00e4hlungen k\u00f6nnen mit <code>-</code> oder <code>*</code> am Zeilenbeginn oder wenn nummeriert mit <code>1.</code>, <code>2.</code> mit nachfolgendem Leerzeichen erstellt werden. Auch Unterpunkte sind m\u00f6glich, die dann einger\u00fcckt werden.</p> <pre><code>- Griechische Philosohen\n    - Aristoteles\n    - Platon\n- R\u00f6mische Philosophen\n    - Cicero\n</code></pre>"},{"location":"user/markdown/#externe-links","title":"Externe Links","text":"<p>Der Text, der verlinkt werden soll, wird in eckige Klammern gesetzt. Das Ziel des Links in runde Klammern dahinter.</p> <pre><code>[Dieser Text wird verlinkt](https://ziel_des_links.ch)\n</code></pre>"},{"location":"user/markdown/#verweise-innerhalb-von-anton","title":"Verweise innerhalb von Anton","text":"<p>Die Verweise innerhalb von Anton funktionieren wie die Links. Als Ziel werden die jeweilig relativen URLs.</p> <pre><code>[Anton](/actors/2) \n</code></pre> <p>Wird zu Anton</p> <p>Ganz \u00e4hnlich k\u00f6nnen Signaturen verlinkt werden. Das Ziel wird dann mit der persistenten URL angegeben <code>/objects/123</code>.</p>"},{"location":"user/markdown/#hervorhebungen","title":"Hervorhebungen","text":"<p>F\u00fcr Hervorhebungen k\u00f6nnen <code>*kursiv*</code> (kursiv) oder <code>**</code> (fett) oder <code>***</code> (fett und kursiv) verwendet werden. </p>"},{"location":"user/media/","title":"Medien","text":"<p>Bei Import von Medien erstellt Anton normalerweise eine Benutzungskopie. Diese ist f\u00fcr die Verwendung im Web optimiert. Wenn sie nicht aus anderen Gr\u00fcnden gesperrt sind, haben Externe User nur Zugriff auf diese Webversion.</p>"},{"location":"user/media/#medienformate","title":"Medienformate","text":"<p>Grunds\u00e4tzlich empfiehlt es sich, als Eingangsformate m\u00f6glichst wenig verschiedene Formate zu verwenden. Das macht die Handhabung und langfristige Pflege \u00fcberschaubarer und einfacher. Ausserdem gibt es Dateiformate, die f\u00fcr die Archivierung besser geeignet sind als andere. Dar\u00fcber informieren zahlreiche staatliche Archive und auf digitale Langzeitarchivierung spezialisierte Stellen.  </p> <p>F\u00fcr die folgenden Formate werden in Anton Benutzungskopien angefertigt. Der Import anderer Formate ist m\u00f6glich, sollte aber wenn m\u00f6glich getestet werden. Manche Formate werden nicht konvertiert (z.B. DOCX, XLSX, TXT, ZIP).</p>"},{"location":"user/media/#foto","title":"Foto","text":"<ul> <li>TIFF  </li> <li>JPEG2000  </li> <li>PNG  </li> <li>JPEG</li> </ul>"},{"location":"user/media/#dokumente","title":"Dokumente","text":"<ul> <li>PDF/A</li> <li>PDF</li> </ul>"},{"location":"user/media/#video","title":"Video","text":"<ul> <li>MP4  </li> <li>Quicktime</li> </ul>"},{"location":"user/media/#audio","title":"Audio","text":"<ul> <li>WAF  </li> <li>MPEG  </li> <li>MP3  </li> </ul>"},{"location":"user/media/#originalmedien-bereitstellen","title":"Originalmedien bereitstellen","text":"<p>Um f\u00fcr Kundinnen die originalen Medien bereitzustellen, kann man in einer Verzeichnungseinheit auf den Medien-Reiter aufrufen:</p> <p></p> <p>Dort die Taste \u00abKopiere Master in den Transferordner\u00bb anklicken.</p> <p></p> <p>Mit Klick auf \u00abLink in die Zwischenablage kopieren\u00bb den Link kopieren.</p> <p></p> <p>Den Link der/m Kunden/Kundin per Email zukommen lassen. Der Link ist eine Woche g\u00fcltig, danach wird die kopierte Datei automatisch gel\u00f6scht.</p>"},{"location":"user/places/","title":"Orte","text":""},{"location":"user/places/#orte","title":"Orte","text":""},{"location":"user/places/#geokoordinaten","title":"Geokoordinaten","text":"<p>Anton unterst\u00fctzt die Erfassung und Verwaltung von geografischen Koordinaten f\u00fcr Orte (Punkte). Das System kann verschiedene Koordinatenformate automatisch verarbeiten und in einem einheitlichen Format speichern. Besitzt ein Ort Geokooridnaten, wird in der Detailansicht eine Karte mit der Lokalisierung angezeigt.</p>"},{"location":"user/places/#unterstutzte-koordinatenformate","title":"Unterst\u00fctzte Koordinatenformate","text":"<p>1. WGS84 (Dezimalgrad) - Standard f\u00fcr GPS und Online-Karten Format: <code>Breitengrad L\u00e4ngengrad</code> | Beispiel: <code>47.3769 8.5417</code> (Z\u00fcrich)</p> <p>2. Schweizer Landeskoordinaten LV95 - Aktuelles CH-System Format: <code>Rechtswert Hochwert</code> | Beispiel: <code>2683141 1247637</code> oder <code>2'683'141 1'247'637</code></p> <p>3. Schweizer Landeskoordinaten LV03 - Fr\u00fcheres CH-System Format: <code>Rechtswert Hochwert</code> | Beispiel: <code>683141 247637</code></p> <p>Automatische Konvertierung</p> <p>Anton erkennt das Format automatisch und konvertiert alle Koordinaten in WGS84.</p>"},{"location":"user/places/#eingabe-in-anton","title":"Eingabe in Anton","text":""},{"location":"user/places/#uber-geonames","title":"\u00dcber Geonames","text":"<ol> <li>Ort erstellen oder bearbeiten</li> <li>In der rechten Spalte Ort mit Geonames identifizieren</li> <li>Kooridnaten werden automatisch \u00fcbernommen</li> </ol>"},{"location":"user/places/#uber-das-orte-formular","title":"\u00dcber das Orte-Formular","text":"<ol> <li>Ort erstellen oder bearbeiten</li> <li>Im Feld \"Koordinaten\" die Werte eingeben</li> <li>Format wird automatisch erkannt und konvertiert</li> </ol>"},{"location":"user/places/#unterstutzte-eingabeformate","title":"Unterst\u00fctzte Eingabeformate","text":"<ul> <li>Mit oder ohne Vorzeichen</li> <li>Mit oder ohne Tausendertrennzeichen (<code>'</code> oder <code></code>)</li> <li>Durch Leerzeichen oder Komma getrennt</li> <li>Dezimalstellen optional</li> </ul>"},{"location":"user/resources/","title":"Resources","text":""},{"location":"user/resources/#externe-ressourcen","title":"Externe Ressourcen","text":""},{"location":"user/settings/","title":"Settings","text":"<p>Mit den Einstellungen kann Anton an die Bed\u00fcrfnisse der Benutzerinnen angepasst werden. Die Einstellungen beziehen sich auf eine Anton-Instanz. Manche Einstellungen k\u00f6nnen von Admins ge\u00e4ndert werden.</p>"},{"location":"user/settings/#grundlegende-einstellungen","title":"Grundlegende Einstellungen","text":"<p>Die Einstellungen werden bei der Installation gesetzt.</p>"},{"location":"user/settings/#abo","title":"abo","text":""},{"location":"user/settings/#additional_superusers","title":"additional_superusers","text":""},{"location":"user/settings/#identifier_pattern","title":"identifier_pattern","text":""},{"location":"user/settings/#maximum_storage","title":"maximum_storage","text":""},{"location":"user/settings/#no_automatic_identifiers","title":"no_automatic_identifiers","text":""},{"location":"user/settings/#period_of_protection_values","title":"period_of_protection_values","text":""},{"location":"user/settings/#possible_children","title":"possible_children","text":""},{"location":"user/settings/#public_access","title":"public_access","text":""},{"location":"user/settings/#recordgroups_for_identifier_base","title":"recordgroups_for_identifier_base","text":""},{"location":"user/settings/#theme","title":"Theme","text":""},{"location":"user/settings/#custom_css","title":"custom_css","text":""},{"location":"user/settings/#theme_1","title":"theme","text":""},{"location":"user/sip/","title":"SIP-Import in Anton","text":""},{"location":"user/sip/#ubersicht","title":"\u00dcbersicht","text":"<p>Der SIP-Import erm\u00f6glicht es, Archivpakete (SIPs - Submission Information Packages) automatisch in Anton zu importieren. Dabei werden alle Dokumente, Metadaten und die Ordnerstruktur \u00fcbernommen und sicher in der INGE-Cloud gespeichert.</p> <p>Der Import-Prozess ist in drei Hauptphasen unterteilt, die den Tabs in der Anton-Oberfl\u00e4che entsprechen:</p> <ol> <li>Upload - SIP-Datei hochladen</li> <li>Validierung - Datei pr\u00fcfen und validieren  </li> <li>Ingest - Import durchf\u00fchren und Dokumente verarbeiten</li> </ol>"},{"location":"user/sip/#upload","title":"Upload","text":"<ul> <li>Die maximale Dateigr\u00f6sse ist von der Systemkonfiguration abh\u00e4ngig. Probleme bitte dem Administrator melden.</li> </ul>"},{"location":"user/sip/#validierung","title":"Validierung","text":""},{"location":"user/sip/#automatische-dateiprufung","title":"Automatische Dateipr\u00fcfung","text":""},{"location":"user/sip/#was-das-system-pruft","title":"Was das System pr\u00fcft","text":"<ul> <li>Vollst\u00e4ndigkeit der ZIP-Datei  </li> <li>Vorhandensein der metadata.xml nach eCH-0160 Standard  </li> <li>Integrit\u00e4t aller Dokumentdateien (MD5-Checksummen)  </li> <li>Korrekte Ordnerstruktur und Hierarchie (insbesondere, ob die Root-Dossiers des SIPs in die bestehende Archivstruktur eingeh\u00e4ngt werden k\u00f6nnen)  </li> <li>Eindeutigkeit (bereits importierte SIPs werden erkannt)</li> </ul>"},{"location":"user/sip/#was-sie-sehen","title":"Was Sie sehen","text":"<ul> <li>Detaillierter Validierungsbericht  </li> <li>Gr\u00fcne H\u00e4kchen f\u00fcr erfolgreiche Pr\u00fcfungen  </li> <li>Rote Fehlermeldungen mit konkreten Hinweisen  </li> <li>Status \u00abValidierung bestanden\u00bb oder \u00abValidierung fehlgeschlagen\u00bb</li> </ul>"},{"location":"user/sip/#mogliche-probleme","title":"M\u00f6gliche Probleme","text":"<ul> <li>Parent f\u00fcr Root-Dossiers k\u00f6nnen nicht gefunden werden</li> <li>Besch\u00e4digte oder unvollst\u00e4ndige ZIP-Datei  </li> <li>Fehlende oder ung\u00fcltige metadata.xml  </li> <li>Defekte Dokumentdateien  </li> <li>Bereits importierte SIP-Datei</li> </ul>"},{"location":"user/sip/#ingest","title":"Ingest","text":""},{"location":"user/sip/#sip-import-workflow","title":"SIP-Import Workflow","text":"<pre><code>flowchart TD\n    A[Systempr\u00fcfung INGE] --&gt; B{INGE-Cloud verf\u00fcgbar?}\n    B --&gt;|Nein| C[Import abbrechen]\n    B --&gt;|Ja| D[DB-Backup erstellen]\n\n    D --&gt; E[Ordnerstruktur analysieren]\n    E --&gt; F{Import-Modus?}\n\n    F --&gt;|Standard SIP| G[XML-Metadaten verarbeiten]\n    F --&gt;|Directory Import| H[Dateisystem scannen]\n\n    G --&gt; I[Antonimport aus XML erstellen]\n    H --&gt; J[Antonimport aus Ordnern erstellen]\n\n    I --&gt; K[Phase 1: Datenbankimport]\n    J --&gt; K\n\n    K --&gt; L[Phase 2: Asynchrone Verarbeitung ]\n    L --&gt; M[Pfade aktualisieren]\n    M --&gt; N[Signaturen setzen]\n    N --&gt; O[Vorschaubilder erstellen]\n    O --&gt; P[Phase 3: Upload zu INGE-Cloud]\n\n    P --&gt; Q{Alle Dateien hochgeladen?}\n    Q --&gt;|Nein| R[Weitere Verarbeitung]\n    Q --&gt;|Ja| S[Volltext indexieren]\n\n    R --&gt; Q\n    S --&gt; T[Import best\u00e4tigen]\n    T --&gt; U[E-Mail-Benachrichtigung]\n    U --&gt; V[Import abgeschlossen]\n\n    style A fill:#e3f2fd\n    style V fill:#e8f5e8\n    style C fill:#ffebee\n</code></pre> <p>Wenn der Import fehl schl\u00e4gt</p> <ul> <li>Im Akzessionsarchiv den SIP Datensatz aufrufen  </li> <li>Datenbank aus Backup wiederherstellen (Dateien werden mit Inge/Dimag synchronisiert)  </li> </ul>"},{"location":"user/sip/#import-modi","title":"Import-Modi","text":""},{"location":"user/sip/#standard-sip-import","title":"Standard SIP-Import","text":"<p>Die Einstellung <code>import-dossier-from-directory</code> muss leer sein oder auf 0 oder false gesetzt werden.</p>"},{"location":"user/sip/#funktionsweise","title":"Funktionsweise","text":"<ul> <li>Ordnerstruktur wird aus den XML-Metadaten erstellt (Dossier/Dokumentstruktur)</li> <li>Jedes Dossier, jede Mappe und jedes Dokument ist in der metadata.xml definiert</li> <li>Hierarchie basiert auf der XML-Struktur der <code>&lt;ablieferung&gt;</code> (parent-child Beziehungen)</li> </ul>"},{"location":"user/sip/#vorteile","title":"Vorteile","text":"<ul> <li>Vollst\u00e4ndige Metadaten aus dem Ablieferungssystem</li> <li>Exakte \u00dcbernahme der logischen Struktur des SIP</li> <li>Informationen zu Entstehungskontext und Provenienz aus XML</li> </ul>"},{"location":"user/sip/#directory-import","title":"Directory Import","text":"<p>Im <code>metadata.xml</code> werden zwei Strukturen pr\u00e4sentiert:  </p> <p>1) Die Ablagestruktur der Dateien im Dateisystem (Ordner/Dateien) im Ordner <code>content</code> entspricht dem <code>&lt;inhaltsverzeichnis&gt;</code> im <code>metadata.xml</code> 2) Das Element <code>ablieferung</code> enth\u00e4lt die Verortung in der Gesamthierarchie (Elemente <code>&lt;ordnungssystem&gt;</code>, <code>&lt;ordnungssystemposition&gt;</code>) sowie die logische Struktur des eigentlichen Inhalts der Ablieferung in Dossiers (<code>dossier&gt;</code>) und Dokumente (<code>&lt;dokument&gt;</code>) (wobei die Dokumente, einen Verweis auf Dateien enthalten k\u00f6nnen).</p> <p>Die beiden Strkturen k\u00f6nnen sich entsprechen, m\u00fcssen aber nicht. In der Praxis gibt es Dossiers, deren Ablagestruktur erheblich von der logischen Struktur abweicht. Deshalb kann es sinnvoll sein, die Ablagestruktur und nicht die eigentlich vorgesehene SIP Struktur zu \u00fcbernehmen.</p> <p>Die Einstellung <code>import-dossier-from-directory</code> muss  auf 1 oder true gesetzt werden.</p> <p>Wichtig</p> <p>Der Directory Import funktioniert nur mit einem Dossier pro SIP.</p>"},{"location":"user/sip/#funktionsweise_1","title":"Funktionsweise","text":"<p>Die Hierarchie wird aus dem Dateisystem der SIP-Datei erstellt (Ordner: <code>content</code>, das entspricht der Ordner-Datei-Struktur im metadata.xml, die logische Struktur der Dossiers und Dokumente wird ignoriert. Auch die Metadaten k\u00f6nnen nicht importiert werden.)</p> <ul> <li>Der Root-Ordner im content Ordner wird mit dem Dossier des SIPs gleichgesetzt.</li> <li>Datei-Metadaten werden aus den Dateieigenschaften generiert (soweit m\u00f6glich).</li> <li>XML-Metadaten werden nur f\u00fcr das Root-Dossier verwendet.</li> </ul>"},{"location":"user/sip/#dauer","title":"Dauer","text":"<p>Beispiel: Der Import von 100 Datens\u00e4tze mit 100 Dateien dauert ca. 10 Minuten. </p> <p>W\u00e4hrend Phase 1 reagiert die Seite nicht und der Browser darf nicht geschlossen werden. Diese Phase dauert im Beispiel ca. 2 Minuten.</p> <p>Phase 2 l\u00e4uft asynchron, aber im Browser ist immer noch nicht zu erkennen (nochmal 2 Minuten).</p> <p>Anschliessend l\u00e4sst sich verfolgen, wie das System Phase 3 abarbeitet. </p> <p>Letzte Aktualisierung: 2025-08-05</p>"},{"location":"user/uploads/","title":"Uploads","text":"<p>File Uploads \u00fcber den Browser sind auf dem Server k\u00a0&amp;\u00a0r serverseitig auf 80\u00a0MB beschr\u00e4nkt. Gr\u00f6ssere Dateien m\u00fcssen via k\u00a0&amp;\u00a0&amp; hochgeladen werden.</p>"}]}